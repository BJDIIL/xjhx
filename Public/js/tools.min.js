function HeaderSlider(a){this.p=a,this.oDiv=document.querySelector(a),this.oUl=document.querySelector(".header-slider-con"),this.aLi=document.querySelectorAll(".header-slider-item"),this.aTabTitle=document.querySelectorAll(".header-tab-title"),this.aTabLi=document.querySelectorAll(".header-tab-item"),this.oMCommonHeader=document.getElementById("m_common_header"),this.oSiftTab=document.querySelector(".sift-tab"),this.oTabs=document.getElementById("tabs"),this.oTryme=document.querySelector(".tryme"),this.oDownloadApp=document.querySelector(".download-pannel"),this.oBox={startX:0,startY:0,finalX:0,finalY:0,endX:0,endY:0,sliderX:0,moveX:0,tabIndex:0,numTime:0,isMove:!1,startTime:0,moveTime:0}}function addDateToLocal(a){try{var b=$("#regionData").val();if(""!=b&&"true"==b){var c=30,d=new Date;d.setTime(d.getTime()+24*c*60*60*1e3),document.cookie="regionAddress="+escape(a)+";expires="+d.toGMTString()+";path=/;domain=.m.jd.com",addJdAddress(a)}}catch(a){}}function addJdAddress(a){try{if(a){var b=30,c=new Date;c.setTime(c.getTime()+24*b*60*60*1e3);var d=a.split(","),e="";d&&d.length>=3&&(e+=d[0]+"_"+d[1]+"_"+d[2]+"_0");var f="";mitemAddrName&&""!=mitemAddrName?(f=mitemAddrName,mitemAddrName=""):$("#provinceName").val()&&$("#cityName").val()&&$("#countyName").val()&&(f=$("#provinceName").val()+"_"+$("#cityName").val()+"_"+$("#countyName").val()),""!=e&&(document.cookie="mitemAddrId="+e+";expires="+c.toGMTString()+";path=/;domain=.jd.com"),""!=f&&(document.cookie="mitemAddrName="+encodeURIComponent(f)+";expires="+c.toGMTString()+";path=/;domain=.jd.com")}}catch(a){}}function addPresentTime(a){var b=new Date;b=b.getTime(),a.indexOf("newtime=")!=-1&&(a=a.replace(/(\?|\&)newtime=\d*/,""));var c=a.indexOf("?")==-1?"?":"&";return a=a+c+"newtime="+b}function LoadPage(){}!function(a){"use strict";a.fn.imglazyLoad=function(a){return new b(a)};var b=function(){var b=function(a){this.duration=a.duration?a.duration:this.duration,this.container=a.container?a.container:this.container,this._src=a._src?a._src:this._src,this.rangeH=a.rangeH?a.rangeH:this.rangeH,this.animationName=a.animationName?a.animationName:this.animationName,this.showDelay=a.showDelay?a.showDelay:this.showDelay,this.styleContianer=a.styleContianer?a.styleContianer:this.styleContianer,this.scrollObj=a.scrollObj||this.scrollObj,this.imgcb=a.imgcb?a.imgcb:this.imgcb,this.isChangeSize=a.isChangeSize?a.isChangeSize:this.isChangeSize,this.init()};return b.prototype={scrollObj:window,refreshTimer:null,duration:100,_src:"_src",container:"imgContainer",rangeH:0,animationName:"fade",showDelay:"200",styleContianer:"styleID",imgcb:!1,isChangeSize:"true",belowthefold:function(b){return a(window).scrollTop()-this.rangeH<=a(b).offset().top},abovethetop:function(b){return a(b).offset().top<=a(window).scrollTop()+document.documentElement.clientHeight+this.rangeH},inViewport:function(a){return this.belowthefold(a)&&this.abovethetop(a)},setStyle:function(a,b){for(var c in b)a.style[c]=b[c]},checkIphone:function(){var a=window.navigator.userAgent.toLowerCase();return!!/iphone|ipd|ipod/.test(a)},addStyle:function(){var a=document.getElementById(this.styleContianer)||document.getElementsByTagName("head")[0],b=document.createElement("style");b.innerHTML+=" @-webkit-keyframes fade { 0%   { opacity: 1; } 100%   { opacity: 0; }} @keyframes fade {  0%   { opacity: 1; }  100%   { opacity: 0; }}",a.appendChild(b)},loading:function(){var b=this,c=[],d=document.getElementById(b.container);c=d?a(d).find("img["+b._src+"]"):a("img["+b._src+"]"),c.each(function(a){var d=c.eq(a);b.inViewport(d)&&b.changSrc(d)})},setImgURL:function(a){var b=this,c=a.attr(""+b._src);if("true"==b.isChangeSize){var d=2*parseInt(a.width()),e=2*parseInt(a.height());c=c.replace(/(s[0-9]{0,4}x[0-9]{0,4}_)?jfs/,"s"+d+"x"+e+"_jfs")}return c.indexOf(".webp")!=-1||b.checkIphone()||(c+=".webp"),c},changSrc:function(a){var b=this,c=a.attr(""+b._src),d=new Image,e=b.setImgURL(a);a.animate({opacity:0},10),d.src=e,d.onload=function(){b.imgcb&&b.imgcb(this,a),a.attr("src",e).removeAttr(""+b._src),a.animate({opacity:1},b.showDelay)},d.onerror=function(){a.attr("src",c).removeAttr(""+b._src),a.animate({opacity:1},b.showDelay)}},init:function(){var b=this;b.loading(),a(this.scrollObj).on("scroll",function(){b.refreshTimer&&(clearTimeout(b.refreshTimer),b.refreshTimer=null),b.refreshTimer=setTimeout(function(){b.loading()},b.duration)})}},b}();a.loadImg={lazyLoad:function(b){return a(document.body).imglazyLoad(b)}}}($),HeaderSlider.prototype={init:function(a){var a=a||{},b=this.aLi,c=this.oDiv,d=this;this.setHeightTimer=null,this.clearHeightTimer=null,this.aLiLen=b.length,this.oDivWidth=c.offsetWidth,this.oUserAgent=window.navigator.userAgent,this.defaults={loadInfoFn:!1,loadAssessFn:!1},HeaderSlider.extend(this.defaults,a),this.liInit(),this.bind(),clearInterval(this.setHeightTimer),this.setHeightTimer=setInterval(function(){d.setHeight()},800),clearTimeout(this.clearHeightTimer),this.clearHeightTimer=setTimeout(function(){clearInterval(d.setHeightTimer)},1e4),this.setHoldTopHeight()},liInit:function(){var a=this.aLi,b=this.oDiv,c=this.oUl,d=this.aLiLen,e=document.querySelector(".jd-header");clearTimeout(f);var f=setTimeout(function(){for(var f=document.documentElement.clientWidth,g=document.documentElement.clientHeight,h=0;h<d;h++)a[h].style.width=f+"px",a[h].style.height=g+"px";this.aLiWidth=a[0].offsetWidth;var i=this.aLiWidth*d;c.style.width=i+"px",null!=e&&(e.style.width=f+"px"),b.style.width=f+"px"},300)},bind:function(){var a=this.oDiv,b=this,c=this.oMCommonHeader,d=this.oUserAgent,e=document.querySelector("#commentListId"),f="onorientationchange"in window,g=f?"orientationchange":"resize";d.indexOf("iPhone")!=-1&&a.addEventListener("touchstart",this,!1),window.addEventListener(g,this,!1),this.appClick(),this.foldClick(),setTimeout(function(){b.guessSwitch()},300),this.evaluateJump(),e&&this.assessScroll(),null!=c&&(this.clickTab(),this.windowScroll(),this.oJdkeyClick(),this.clickInfoTab(),this.clickAssessTab(),this.toTop())},setHeight:function(){var a=this.aLi,b=this.oUl,c=this.oBox,d=0,e=document.querySelector(".hold-div-top").offsetHeight,f=document.querySelector(".hold-div-bottom").offsetHeight,g=document.querySelector(".cart-concern-btm-fixed");d=g?g.offsetHeight:0;var h=document.documentElement.clientHeight,i=h-e-f-d;HeaderSlider.hasClass(a[c.tabIndex],"reply-body")||(a[c.tabIndex].style.height="auto",a[c.tabIndex].offsetHeight>i?a[c.tabIndex].style.height=a[c.tabIndex].offsetHeight+"px":a[c.tabIndex].style.height=i+"px"),a[c.tabIndex].offsetHeight>i?b.style.height=a[c.tabIndex].offsetHeight+"px":b.style.height=i+"px"},setHoldTopHeight:function(){var a=document.querySelector(".hold-div-top"),b=document.querySelector(".m_common_new_top");if(null!=b){var c=b.offsetHeight;a.style.height=c+"px"}},handleEvent:function(a){switch(a.type){case"touchstart":this.startHandle(a);break;case"touchmove":this.moveHandle(a);break;case"touchend":this.endHandle(a);break;case"orientationchange":this.orientationchangeHandler(a);break;case"resize":this.orientationchangeHandler(a)}},startHandle:function(a){a.stopPropagation();var b=a.targetTouches[0],c=this.oUl,d=this.oDiv,e=this.oBox;e.numTime=0,e.startX=b.pageX,e.startY=b.pageY,e.isMove=!1,e.startTime=(new Date).getTime(),HeaderSlider.setStyle(c,{WebkitTransition:"",transition:""}),d.addEventListener("touchmove",this,!1),d.addEventListener("touchend",this,!1)},moveHandle:function(a){a.stopPropagation();var b,c,d=a.targetTouches[0],e=this.oBox,f=this.oUl;e.moveTime=(new Date).getTime(),e.moveTime-e.startTime>=50&&(0===e.numTime&&(e.finalX=d.pageX,e.finalY=d.pageY,b=HeaderSlider.getAngle(e.startX,e.finalX,e.startY,e.finalY),c=HeaderSlider.getSpeed(e.startX,e.finalX,e.startY,e.finalY,50)),e.numTime++,c>=5?(b>=0&&b<=10||b>=170&&b<=190||b>=350&&b<=360)&&(e.isMove=!0):(b>=0&&b<=20||b>=160&&b<=200||b>=340&&b<=360)&&(e.isMove=!0));var g=document.documentElement.clientWidth,h=this.aLiLen;e.isMove&&(a.preventDefault(),e.moveX=e.sliderX+(d.pageX-e.startX),e.moveX>0&&(e.moveX=0),e.moveX<-(g*(h-1))&&(e.moveX=-(g*(h-1))),HeaderSlider.moving(f,e.moveX))},endHandle:function(a){a.stopPropagation();var b=a.changedTouches[0],c=this.oBox,d=this.oDiv,e=this.aTabTitle,f=this.oDivWidth,g=this.oSiftTab,h=this.oTabs,i=this.oUl,j=this.aLiLen,k=this.oTryme,l=this.oDownloadApp,m=this.oUserAgent,n=this.oMCommonHeader,o=document.documentElement.clientWidth,p=this;if(c.numTime=0,c.endX=b.pageX,c.endY=b.pageY,c.isMove&&c.endX-c.startX<0?Math.abs(c.endX-c.startX)>f/3?(c.tabIndex<j-1&&(c.tabIndex++,document.documentElement.scrollTop=0,document.body.scrollTop=0,k&&m.indexOf("Html5Plus")<0&&(HeaderSlider.getSession("isPanelClose")||(k.style.display="block")),l&&m.indexOf("Html5Plus")<0&&(HeaderSlider.getSession("isPanelClose")||(l.style.display="block"))),p.defaults.loadInfoFn&&"function"==typeof p.defaults.loadInfoFn&&p.defaults.loadInfoFn(c.tabIndex,1),p.defaults.loadAssessFn&&"function"==typeof p.defaults.loadAssessFn&&p.defaults.loadAssessFn(c.tabIndex,2),c.sliderX=c.sliderX-o,c.sliderX<-(o*(j-1))&&(c.tabIndex=j-1,c.sliderX=-(o*(j-1))),HeaderSlider.sliding(i,c.sliderX),HeaderSlider.headSwitch(g,c.tabIndex,1),HeaderSlider.headSwitch(h,c.tabIndex,2),HeaderSlider.visible(g,c.tabIndex,1),p.HeightTimer(),p.setHoldTopHeight(),p.slideMping(c.tabIndex,"商品")):HeaderSlider.sliding(i,c.sliderX):c.isMove&&c.endX-c.startX>0&&(Math.abs(c.endX-c.startX)>f/3?(c.tabIndex>0&&(c.tabIndex--,document.documentElement.scrollTop=0,document.body.scrollTop=0,k&&m.indexOf("Html5Plus")<0&&(HeaderSlider.getSession("isPanelClose")||(k.style.display="block")),l&&m.indexOf("Html5Plus")<0&&(HeaderSlider.getSession("isPanelClose")||(l.style.display="block"))),p.defaults.loadInfoFn&&"function"==typeof p.defaults.loadInfoFn&&p.defaults.loadInfoFn(c.tabIndex,1),p.defaults.loadAssessFn&&"function"==typeof p.defaults.loadAssessFn&&p.defaults.loadAssessFn(c.tabIndex,2),c.sliderX=c.sliderX+o,c.sliderX>0&&(c.sliderX=0),HeaderSlider.sliding(i,c.sliderX),HeaderSlider.headSwitch(g,c.tabIndex,1),HeaderSlider.headSwitch(h,c.tabIndex,2),HeaderSlider.visible(g,c.tabIndex,1),p.HeightTimer(),p.setHoldTopHeight(),p.slideMping(c.tabIndex,"评价")):HeaderSlider.sliding(i,c.sliderX)),null!=n){for(var q=0;q<e.length;q++)HeaderSlider.removeClass(e[q],"header-tab-selected");HeaderSlider.addClass(e[c.tabIndex],"header-tab-selected")}d.removeEventListener("touchmove",this,!1),d.removeEventListener("touchend",this,!1),2==c.tabIndex?window.removeEventListener("scroll",this,!1):window.addEventListener("scroll",this,!1)},clickTab:function(){for(var a=this.aTabLi,b=this.oBox,c=this,d=0;d<a.length;d++)!function(d){a[d]&&(a[d].onclick=function(){b.tabIndex=d,c.toTopMping(b.tabIndex),c.defaults.loadInfoFn&&"function"==typeof c.defaults.loadInfoFn&&c.defaults.loadInfoFn(b.tabIndex,1),c.defaults.loadAssessFn&&"function"==typeof c.defaults.loadAssessFn&&c.defaults.loadAssessFn(b.tabIndex,2,0),c.tabSwitch(b.tabIndex)})}(d)},clickInfoTab:function(){for(var a=this,b=document.querySelectorAll(".tab-lst-a"),c=0;c<b.length;c++)!function(c){b[c]&&b[c].addEventListener("click",function(){a.HeightTimer()},!1)}(c)},clickAssessTab:function(){var a=this,b=this.oTabs;b&&b.addEventListener("click",function(b){var c=b||event,d=c.srcElemnt||c.target;"p"==d.nodeName.toLowerCase()&&a.HeightTimer()})},tabSwitch:function(a){var b=this.aTabLi,c=this.oBox,d=this.aTabTitle,e=this.oSiftTab,f=this.oTabs,g=this.oUl,h=this.aLi,i=this.oTryme,j=this.oDownloadApp,k=this.oMCommonHeader,l=document.documentElement.clientWidth,m=this.oUserAgent;if(c.tabIndex=a,null!=k){for(var n=0;n<b.length;n++)HeaderSlider.removeClass(d[n],"header-tab-selected");HeaderSlider.addClass(d[c.tabIndex],"header-tab-selected")}c.sliderX=-(c.tabIndex*l),HeaderSlider.sliding(g,c.sliderX),HeaderSlider.headSwitch(e,c.tabIndex,1),HeaderSlider.visible(e,c.tabIndex,1),HeaderSlider.headSwitch(f,c.tabIndex,2),this.HeightTimer(),document.documentElement.scrollTop=0,document.body.scrollTop=0,i&&m.indexOf("Html5Plus")<0&&(HeaderSlider.getSession("isPanelClose")||(i.style.display="block")),j&&m.indexOf("Html5Plus")<0&&(HeaderSlider.getSession("isPanelClose")||(j.style.display="block")),this.setHoldTopHeight(),HeaderSlider.hasClass(h[c.tabIndex],"reply-body")?window.removeEventListener("scroll",this,!1):window.addEventListener("scroll",this,!1)},windowScroll:function(){var a=this.oSiftTab,b=this.oBox,c=this.aLi,d=this,e=this.oTryme,f=this.oDownloadApp,g=this.oUserAgent,h=10,i=0,j=document.documentElement.clientHeight,k=document.querySelector(".hold-div-top").offsetHeight,l=document.querySelector(".hold-div-bottom").offsetHeight;i=document.querySelector(".cart-concern-btm-fixed")?document.querySelector(".cart-concern-btm-fixed").offsetHeight:0;var m=j-k-l-i;window.addEventListener("scroll",function(){if(!HeaderSlider.hasClass(c[b.tabIndex],"reply-body"))if(c[b.tabIndex].offsetHeight>m){var i=document.documentElement.scrollTop||document.body.scrollTop;i>=1?(e&&(e.style.display="none"),f&&(f.style.display="none"),i>=h&&(h=i,a&&(a.style.visibility="hidden")),i<h&&(h=i,a&&(a.style.visibility="visible")),d.setHoldTopHeight()):(e&&g.indexOf("Html5Plus")<0&&(HeaderSlider.getSession("isPanelClose")||(e.style.display="block")),f&&g.indexOf("Html5Plus")<0&&(HeaderSlider.getSession("isPanelClose")||(f.style.display="block")),a&&(a.style.visibility="visible"),d.setHoldTopHeight())}else a&&(a.style.visibility="visible")},!1)},assessScroll:function(){var a=this.oTabs,b=this.oBox,c=this,d=this.oTryme,e=this.oDownloadApp,f=this.oUserAgent,g=10,h=document.querySelector(".jd-header-new-bar"),i=document.querySelector("#commentListId");if(null!=h)var j=h.offsetTop;i&&(i.addEventListener("scroll",function(){var h=i.scrollTop;h>j?(d&&(d.style.display="none"),e&&(e.style.display="none"),h>=g&&(g=h,a&&(a.style.display="none")),h<g&&(g=h,HeaderSlider.headSwitch(a,b.tabIndex,2)),c.setHoldTopHeight()):(d&&f.indexOf("Html5Plus")<0&&(HeaderSlider.getSession("isPanelClose")||(d.style.display="block")),e&&f.indexOf("Html5Plus")<0&&(HeaderSlider.getSession("isPanelClose")||(e.style.display="block")),c.setHoldTopHeight())},!1),window.removeEventListener("scroll",this,!1))},sliderJump:function(){var a=this.oBox;a.tabIndex++,this.defaults.loadInfoFn&&"function"==typeof this.defaults.loadInfoFn&&this.defaults.loadInfoFn(a.tabIndex,1),this.tabSwitch(a.tabIndex),this.toTopMping(a.tabIndex)},goBack:function(){var a=this.oBox;a.tabIndex&&0!==a.tabIndex?(a.tabIndex=0,a.sliderX=0,this.tabSwitch(a.tabIndex),this.toTopMping(a.tabIndex)):window.history.go(-1)},foldClick:function(){for(var a=document.querySelectorAll(".arrow-fold"),b=this,c=0;c<a.length;c++)a[c]&&a[c].addEventListener("click",function(){b.HeightTimer()})},guessSwitch:function(){for(var a=document.querySelectorAll(".switch-title"),b=this,c=0;c<a.length;c++)a[c]&&a[c].addEventListener("click",function(){b.HeightTimer()})},evaluateJump:function(){var a=this.oBox,b=this;$(".comment-list").on("click",".comment-list-item",function(){var c=$(this).find(".comment-img-container");a.tabIndex=2,b.tabSwitch(a.tabIndex),itemPingjiaFlag=!1,b.toTopMping(a.tabIndex),0==c.length?(pingClickWithLevel("MProductdetail_OnlyComment","","",$("#currentWareId").val(),"5"),assessListInit({containerID:"tab-wrapper",url:"/newComments/newCommentsDetail.json",tabIndex:0,maxCount:10,cbList:useful,checkParam:$("#commendetailModel").attr("commendetail-data")})):assessListInit({containerID:"tab-wrapper",url:"/newComments/newCommentsDetail.json",tabIndex:4,maxCount:10,cbList:useful,checkParam:$("#commendetailModel").attr("commendetail-data")})}),$("#orderComment").on("click",function(){a.tabIndex=2,b.tabSwitch(a.tabIndex),itemPingjiaFlag=!1,b.toTopMping(a.tabIndex),assessListInit({containerID:"tab-wrapper",url:"/newComments/newCommentsDetail.json",tabIndex:4,maxCount:10,cbList:useful,checkParam:$("#commendetailModel").attr("commendetail-data")})}),$("#btnAssess").on("click",function(){a.tabIndex=2,b.tabSwitch(a.tabIndex),itemPingjiaFlag=!1,b.toTopMping(a.tabIndex),assessListInit({containerID:"tab-wrapper",url:"/newComments/newCommentsDetail.json",tabIndex:0,maxCount:10,cbList:useful,checkParam:$("#commendetailModel").attr("commendetail-data")})}),$(".detailInfoClick").on("click",function(){a.tabIndex=1,b.tabSwitch(a.tabIndex),b.toTopMping(a.tabIndex),productInfoLoad({containerID:"goodDetail",wareId:$("#currentWareId").val(),url:"/ware/detail.json?wareId="+$("#currentWareId").val(),cbfn:function(){var a=document.getElementById("scale-parent2");scale("scale-parent","scale-cont"),a&&scale("scale-parent2","scale-cont2")}})})},appClick:function(){var a=document.querySelector(".later"),b=document.querySelector(".download-close"),c=this;a&&a.addEventListener("click",function(){clearTimeout(a);var a=setTimeout(function(){c.setHoldTopHeight()},200)}),b&&b.addEventListener("click",function(){clearTimeout(a);var a=setTimeout(function(){c.setHoldTopHeight()},200)})},oJdkeyClick:function(){var a=document.getElementById("m_common_header_jdkey"),b=this;null!=a&&a.addEventListener("click",function(){$("#m_common_header_shortcut").toggleClass("hide"),b.setHoldTopHeight()})},orientationchangeHandler:function(){var a=this.oUl,b=this.oBox;this.liInit(),clearTimeout(c);var c=setTimeout(function(){var c=document.documentElement.clientWidth;b.sliderX=-(c*b.tabIndex),HeaderSlider.sliding(a,b.sliderX)},300);this.HeightTimer()},HeightTimer:function(){var a=this.oBox,b=this;1==a.tabIndex?(clearInterval(this.setHeightTimer),this.setHeightTimer=setInterval(function(){b.setHeight()},1e3),clearTimeout(this.clearHeightTimer),this.clearHeightTimer=setTimeout(function(){clearInterval(b.setHeightTimer)},6e4)):(clearInterval(this.setHeightTimer),this.setHeightTimer=setInterval(function(){b.setHeight()},800),clearTimeout(this.clearHeightTimer),this.clearHeightTimer=setTimeout(function(){clearInterval(b.setHeightTimer)},2500))},toTop:function(){var a=document.getElementById("indexToTop"),b=this.oSiftTab,c=this.oTabs,d=this.oBox;a&&a.addEventListener("click",function(){HeaderSlider.visible(b,d.tabIndex,1),HeaderSlider.headSwitch(c,d.tabIndex,2)},!1)},toTopMping:function(a){var b=$("#indexToTop");switch(a){case 0:b.attr("report-eventid","MProductdetail_BackToTop");break;case 1:b.attr("report-eventid","MProductdetail_DetailBackToTop");break;case 2:b.attr("report-eventid","MProductdetail_CommentBackToTop")}},slideMping:function(a,b){var c=this.oBox;0==a?pingClickWithLevel("MProductdetail_ProductTabSlide","","",$("#currentWareId").val(),"5"):1==a?pingClickWithLevel("MProductdetail_DetailTabSlide",b,"",$("#currentWareId").val(),"5"):2==a&&pingClickWithLevel("MProductdetail_CommentTabSlide","","",$("#currentWareId").val(),"5"),this.toTopMping(c.tabIndex)}},HeaderSlider.extend=function(a,b){for(var c in b)void 0!==b[c]&&(a[c]=b[c])},HeaderSlider.extend(HeaderSlider,{setStyle:function(a,b){for(var c in b)a.style[c]=b[c]},getStyle:function(a,b){return(a.currentStyle||getComputedStyle(a,!1))[b]},hasClass:function(a,b){if(a)return a.className.match(new RegExp("(\\s|^)"+b+"(\\s|$)"))},addClass:function(a,b){HeaderSlider.hasClass(a,b)||(a.className+=" "+b)},removeClass:function(a,b){if(HeaderSlider.hasClass(a,b)){var c=new RegExp("(\\s|^)"+b+"(\\s|$)");a.className=a.className.replace(c," ")}},sliding:function(a,b){HeaderSlider.setStyle(a,{WebkitTransition:"500ms ease",transition:"500ms ease"}),HeaderSlider.setStyle(a,{WebkitTransform:"translate3d("+b+"px,0,0)",transform:"translate3d("+b+"px,0,0)"})},moving:function(a,b){HeaderSlider.setStyle(a,{transform:"translate3d("+b+"px,0,0)",WebkitTransform:"translate3d("+b+"px,0,0)"})},headSwitch:function(a,b,c){null!=a&&(b==c?a.style.display="block":a.style.display="none")},visible:function(a,b,c){null!=a&&(b==c?a.style.visibility="visible":a.style.visibility="hidden")},getAngle:function(a,b,c,d){var e=Math.abs(a-b),f=Math.abs(c-d),g=Math.sqrt(e*e+f*f),h=Math.round(Math.asin(f/g)/Math.PI*180);return b>=a&&d<=c?h=h:b<=a&&d<=c?h=180-h:b<=a&&d>=c?h=180+h:b>=a&&d>=c&&(h=360-h),h},getSpeed:function(a,b,c,d,e){var f=Math.abs(a-b),g=Math.abs(c-d),h=Math.sqrt(f*f+g*g),i=h/e;return i},pingClick:function(a,b,c,d){try{if($("#pingUse").val()){var e=new MPing.inputs.Click(a);e.event_param=b,e.page_param=d;var f=new MPing;f.send(e)}}catch(a){}},pingClickWithLevel:function(a,b,c,d,e){try{if($("#pingUse").val()){var f=new MPing.inputs.Click(a);f.event_param=b,f.page_param=d,f.event_level=e;var g=new MPing;g.send(f)}}catch(a){}},getSession:function(a){var b=window.sessionStorage;if(b){var c=b.getItem(a);if(c&&"true"==c)return!0}return!1},setHash:function(a){0==a?window.location.hash="":1==a?window.location.hash="#detail":2==a&&(window.location.hash="#access")}});var slide=function(){function a(a){this.elem=a,this.oBox=document.querySelector(a),this.aLi=document.querySelectorAll(a+" [data-ul-child=child]"),this.oUl=document.querySelector(a+" [data-slide-ul=firstUl]"),this.now=0,this.on0ff=!1}var b=function(b){return new a(b)};return a.prototype={init:function(b){var c=this,b=b||{},d=this.aLi;this.defaults={imgSrc:"imgsrc",startIndex:0,loop:!1,smallBtn:!1,number:!1,laseMoveFn:!1,location:!1,preDef:"lnr",autoPlay:!1,autoHeight:!1,preFn:null,lastImgSlider:!1,playTime:6e3,mpingEvent:null,wareId:null,callback:null,verticalCenter:!1,fullScreen:!0,total:0,isBanOneImg:!0},a.extend(this.defaults,b),c.imgSrc=c.defaults.imgSrc,this.now=this.defaults.startIndex,d.length>0&&(this.initBtn(),this.liInit(),this.bind()),this.defaults.autoPlay&&(this.pause(),this.play())},initBtn:function(){this.aLi=document.querySelectorAll(this.elem+" [data-ul-child=child]");var b=this.aLi;if(this.defaults.callback&&this.defaults.callback(1),this.defaults.smallBtn){this.oSmallBtn=document.querySelector(this.elem+' [data-small-btn="smallbtn"]'),this.oSmallBtn.innerHTML=this.addSmallBtn(),this.btns=document.querySelectorAll(this.elem+' [data-ol-btn="btn"]');for(var c=0;c<this.btns.length;c++)this.btns[c].className="";this.btns[a.getNow(this.now,b.length)].className="active"}this.defaults.number&&(this.pageNub=document.getElementById("page-nub"),this.slideNub=document.getElementById("slide-nub"),this.slideSum=document.getElementById("slide-sum"),1==this.aLi.length?this.slideNub.innerHTML=1:this.slideNub.innerHTML=(this.now+1)%this.aLi.length,this.slideSum.innerHTML=this.aLi.length),this.defaults.total=this.aLi.length,2!=this.aLi.length&&3!=this.aLi.length||(this.defaults.loop&&(this.oUl.innerHTML+=this.oUl.innerHTML),this.aLi=document.querySelectorAll(this.elem+" [data-ul-child=child]"),this.need=!0)},bind:function(){var b=this.oBox,c=a._device();c.hasTouch||(b.style.cursor="pointer",b.ondragstart=function(a){return!a});var d="onorientationchange"in window,e=d?"orientationchange":"resize";window.addEventListener(e,this),this.aLi.length<2&&(this.defaults.smallBtn&&(this.oSmallBtn.style.display="none"),this.defaults.isBanOneImg)||(b.addEventListener(c.startEvt,this),window.addEventListener("touchcancel",this),navigator.userAgent.indexOf("baidubrowser")!=-1?(window.addEventListener("focusin",this),window.addEventListener("focusout",this)):(window.addEventListener("blur",this),window.addEventListener("focus",this)))},liInit:function(){var b=this.aLi,c=b.length,d=this.aLi[0].offsetWidth,e=this.aLi[0].offsetHeight,f=this.oUl,g=this.oBox.offsetWidth,h=320,i=this.now,j=this;this.defaults.preFn&&this.defaults.preFn(),f.style.width=g*c+"px";for(var k=0;k<c;k++)a.setStyle(b[k],{WebkitTransition:"all 0ms ease",transition:"all 0ms ease"});if(this.defaults.fullScreen){if(f.style.width=g*c+"px",this.defaults.autoHeight){for(var k=0;k<c;k++)a.setStyle(b[k],{height:"auto"});h=this.oBox.offsetWidth,h>=640&&(h=640);for(var k=0;k<c;k++)b[k].style.width=h+"px";var l=b[0].getElementsByTagName("img")[0];if(l){var m=new Image;m.onload=function(){j.oBox.style.height=b[0].offsetHeight+"px",j.oUl.style.height=b[0].offsetHeight+"px",j.defaults.verticalCenter&&(j.oBox.style.height.replace("px","")>=document.documentElement.clientHeight?(j.oBox.parentNode.style.top="50px",j.oBox.parentNode.style.marginTop=0):(j.oBox.parentNode.style.top="50%",j.oBox.parentNode.style.marginTop="-50%"));for(var a=0;a<b.length;a++)b[a].style.height=b[0].offsetHeight+"px"},m.src=l.src}else this.oBox.style.height=b[0].offsetHeight+"px"}}else{h=this.oBox.offsetWidth,h>=640&&(h=640),d=h/320*225,e=h/320*150;for(var k=0;k<c;k++)b[k].style.width=d+"px",b[k].style.height=e+"px";f.style.width=d*c+"px",this.oBox.style.height=e+"px",this.oUl.style.height=e+"px",b[0].style.padding="0",g=d}if(this.defaults.loop)for(var k=0;k<c;k++)a.setStyle(b[k],{position:"absolute",left:0,top:0}),k==a.getNow(i,c)?(j.loadImg(b[k]),a.setStyle(b[k],{WebkitTransform:"translate3d(0px, 0px, 0px)",transform:"translate3d(0px, 0px, 0px)",zIndex:10})):k==a.getPre(i,c)?a.setStyle(b[k],{WebkitTransform:"translate3d("+-g+"px, 0px, 0px)",transform:"translate3d("+-g+"px, 0px, 0px)",zIndex:10}):k==a.getNext(i,c)?a.setStyle(b[k],{WebkitTransform:"translate3d("+g+"px, 0px, 0px)",transform:"translate3d("+g+"px, 0px, 0px)",zIndex:10}):k==a.getNextNew(i,c)?a.setStyle(b[k],{WebkitTransform:"translate3d("+2*g+"px, 0px, 0px)",transform:"translate3d("+2*g+"px, 0px, 0px)",zIndex:10}):a.setStyle(b[k],{WebkitTransform:"translate3d("+-g+"px, 0px, 0px)",transform:"translate3d("+-g+"px, 0px, 0px)",zIndex:9});else for(var k=0;k<c;k++)a.setStyle(b[k],{WebkitTransform:"translate3d("+i*-g+"px, 0px, 0px)",transform:"translate3d("+i*-g+"px, 0px, 0px)"})},handleEvent:function(b){var c=a._device();this.oBox;switch(b.type){case c.startEvt:this.defaults.autoPlay&&this.pause(),this.startHandler(b);break;case c.moveEvt:this.defaults.autoPlay&&this.pause(),this.moveHandler(b);break;case c.endEvt:this.defaults.autoPlay&&(this.pause(),this.play()),this.endHandler(b);break;case"touchcancel":this.defaults.autoPlay&&(this.pause(),this.play()),this.endHandler(b);break;case"orientationchange":this.orientationchangeHandler();break;case"resize":this.orientationchangeHandler();break;case"focus":this.defaults.autoPlay&&(this.pause(),this.play());break;case"blur":this.defaults.autoPlay&&this.pause();break;case"focusin":this.defaults.autoPlay&&(this.pause(),this.play());break;case"focusout":this.defaults.autoPlay&&this.pause()}},startHandler:function(b){this.on0ff=!0;var c=a._device(),d=c.hasTouch,e=this.oBox,f=this.now,g=this.aLi;e.addEventListener(c.moveEvt,this),e.addEventListener(c.endEvt,this),this.downTime=Date.now(),this.downX=d?b.targetTouches[0].pageX:b.clientX-e.offsetLeft,this.downY=d?b.targetTouches[0].pageY:b.clientY-e.offsetTop,this.startT=a.getTranX(g[a.getNow(f,g.length)]),this.startNowT=a.getTranX(g[a.getNow(f,g.length)]),this.startPreT=a.getTranX(g[a.getPre(f,g.length)]),this.startNextT=a.getTranX(g[a.getNext(f,g.length)]),this.startNextN=a.getTranX(g[a.getNextNew(f,g.length)]),a.stopPropagation(b)},moveHandler:function(b){var c=this.oBox,d=a._device();if(this.on0ff){var e=d.hasTouch,f=e?b.targetTouches[0].pageX:b.clientX-c.offsetLeft,g=e?b.targetTouches[0].pageY:b.clientY-c.offsetTop,h=this.aLi,i=h.length,j=this.now,k=h[0].offsetWidth;"all"==this.defaults.preDef&&a.stopDefault(b);for(var l=0;l<i;l++)a.setStyle(h[l],{WebkitTransition:"all 0ms ease",transition:"all 0ms ease"});if(Math.abs(f-this.downX)<Math.abs(g-this.downY))"tnd"==this.defaults.preDef&&"all"!=this.defaults.preDef&&a.stopDefault(b);else if(Math.abs(f-this.downX)>10)if("lnr"==this.defaults.preDef&&"all"!=this.defaults.preDef&&a.stopDefault(b),this.defaults.loop){p=(this.startNowT+f-this.downX).toFixed(4);var m=(this.startPreT+f-this.downX).toFixed(4),n=(this.startNextT+f-this.downX).toFixed(4),o=(this.startNextN+f-this.downX).toFixed(4);a.move(h[a.getNow(j,i)],p,10,this.defaults.fullScreen),a.move(h[a.getPre(j,i)],m,10,this.defaults.fullScreen),a.move(h[a.getNext(j,i)],n,10,this.defaults.fullScreen),a.move(h[a.getNextNew(j,i)],o,10,this.defaults.fullScreen)}else{var p=a.getTranX(h[j]);if(p>0)for(var q=((this.startT+f-this.downX)/3).toFixed(4),l=0;l<i;l++)a.move(h[l],q,10,this.defaults.fullScreen);else if(Math.abs(p)>=Math.abs((i-1)*k)){for(var q=(this.startT+(f-this.downX)/3).toFixed(4),l=0;l<i;l++)a.move(h[l],q,10,this.defaults.fullScreen);if(this.defaults.laseMoveFn&&"function"==typeof this.defaults.laseMoveFn){var r=(q-this.startT).toFixed(4);this.defaults.laseMoveFn(r)}}else for(var q=(this.startT+f-this.downX).toFixed(4),l=0;l<i;l++)a.move(h[l],q,10,this.defaults.fullScreen)}}else c.removeEventListener(d.moveEvt,this),c.removeEventListener(d.endEvt,this);a.stopPropagation(b)},endHandler:function(b){b.stopPropagation(),this.on0ff=!1;var c=Date.now(),d=a._device(),e=d.hasTouch,f=this.oBox,g=e?b.changedTouches[0].pageX:b.clientX-f.offsetLeft,h=e?b.changedTouches[0].pageY:b.clientY-f.offsetTop,i=this.aLi,j=i[0].offsetWidth,k=a.getTranX(i[a.getNow(this.now,i.length)]);return g-this.downX<30&&g-this.downX>=0&&Math.abs(h-this.downY)<30?(this.tab(k,"+="),"click"):g-this.downX>-30&&g-this.downX<=0&&Math.abs(h-this.downY)<30?(this.tab(k,"-="),"click"):Math.abs(h-this.downY)-Math.abs(g-this.downX)>30&&g-this.downX<0?void this.tab(k,"-="):Math.abs(h-this.downY)-Math.abs(g-this.downX)>30&&g-this.downX>0?void this.tab(k,"+="):g<this.downX?this.downX-g>j/3||c-this.downTime<200?(this.now++,this.tab(k,"++"),"left"):(this.tab(k,"+="),"stay"):g-this.downX>j/3||c-this.downTime<200?(this.now--,this.tab(k,"--"),"right"):(this.tab(k,"-="),"stay")},tab:function(b,c,d){function e(){i.defaults.location&&b<-(g-1)*h-h/5&&i.defaults.lastImgSlider&&"function"==typeof i.defaults.lastImgSlider&&(i.defaults.laseMoveFn(0),i.defaults.lastImgSlider()),f[a.getNow(i.now,g)].removeEventListener("webkitTransitionEnd",e,!1),f[a.getNow(i.now,g)].removeEventListener("transitionend",e,!1)}var f=this.aLi,g=f.length,h=f[0].offsetWidth,i=(this.oBox,a._device(),this),j=this.now;if(!this.defaults.callback||"++"!=c&&"--"!=c||this.defaults.callback((a.getNow(j,g)+1)%this.defaults.total==0?this.defaults.total:(a.getNow(j,g)+1)%this.defaults.total),$(f[a.getNow(i.now,g)]).addClass("active").siblings().removeClass("active"),i.loadImg(f[a.getNow(i.now,g)]),i.loadImg(f[a.getNow(i.now+1,g)]),this.defaults.loop){j<0&&(j=g-1,this.now=g-1);for(var k=0;k<g;k++)if(k==a.getPre(j,g)){var l;switch(c){case"++":l=300;break;case"--":l=0;break;case"+=":l=0;break;case"-=":l=300}a.setStyle(f[a.getPre(j,g)],{WebkitTransform:"translate3d("+-h+"px, 0px, 0px)",transform:"translate3d("+-h+"px, 0px, 0px)",zIndex:10,WebkitTransition:"all "+l+"ms ease",transition:"all "+l+"ms ease"}),i.defaults.fullScreen||a.setStyle(f[a.getPre(j,g)],{padding:"0.8%"})}else if(k==a.getNow(j,g))a.setStyle(f[a.getNow(j,g)],{WebkitTransform:"translate3d(0px, 0px, 0px)",transform:"translate3d(0px, 0px, 0px)",zIndex:10,WebkitTransition:"all 300ms ease",transition:"all 300ms ease"}),i.defaults.fullScreen||a.setStyle(f[a.getNow(j,g)],{padding:"0"});else if(k==a.getNext(j,g)){var l=300;switch(c){case"++":l=0;break;case"--":l=300;break;case"+=":l=300;break;case"-=":l=0}a.setStyle(f[a.getNext(j,g)],{WebkitTransform:"translate3d("+h+"px, 0px, 0px)",transform:"translate3d("+h+"px, 0px, 0px)",zIndex:10,WebkitTransition:"all "+l+"ms ease",transition:"all "+l+"ms ease"}),i.defaults.fullScreen||a.setStyle(f[a.getNext(j,g)],{padding:"0.8%"})}else if(k==a.getNextNew(j,g)){var l;switch(c){case"++":l=0;break;case"--":l=300;break;case"+=":l=300;break;case"-=":l=0}a.setStyle(f[a.getNextNew(j,g)],{WebkitTransform:"translate3d("+2*h+"px, 0px, 0px)",transform:"translate3d("+2*h+"px, 0px, 0px)",zIndex:10,WebkitTransition:"all "+l+"ms ease",transition:"all "+l+"ms ease"}),i.defaults.fullScreen||a.setStyle(f[a.getNextNew(j,g)],{padding:"0.8%"})}else a.setStyle(f[k],{WebkitTransform:"translate3d("+2*h+"px, 0px, 0px)",transform:"translate3d("+2*h+"px, 0px, 0px)",zIndex:9,WebkitTransition:"all 0ms ease",transition:"all 0ms ease"})}else{for(var k=0;k<g;k++)a.setStyle(f[k],{WebkitTransition:"all 300ms ease",transition:"all 300ms ease"});j<=0&&(j=0,this.now=0),j>g-1&&(d?(j=0,this.now=0):(j=g-1,this.now=g-1));for(var m=0;m<g;m++)a.setStyle(f[m],{WebkitTransform:"translate3d("+-j*h+"px, 0px, 0px)",
transform:"translate3d("+-j*h+"px, 0px, 0px)"})}if(this.defaults.smallBtn){for(var k=0;k<this.btns.length;k++)this.btns[k].className="";this.need?this.btns[a.getNow(j,g/2)].className="active":this.btns[a.getNow(j,g)].className="active"}this.defaults.number&&(this.slideNub.innerHTML=(a.getNow(j,g)+1)%this.defaults.total==0?this.defaults.total:(a.getNow(j,g)+1)%this.defaults.total),f[a.getNow(j,g)].addEventListener("webkitTransitionEnd",e,!1),f[a.getNow(j,g)].addEventListener("transitionend",e,!1);try{if($("#pingUse").val()){var n=new MPing.inputs.Click(this.defaults.mpingEvent);n.page_param=this.defaults.wareId;var o=new MPing;o.send(n)}}catch(a){}},play:function(){var a=this;a.timer=setInterval(function(){a.now++,a.tab(null,"++",!0)},this.defaults.playTime)},pause:function(){var a=this;clearInterval(a.timer)},orientationchangeHandler:function(){var a=this;setTimeout(function(){a.liInit()},300)},addSmallBtn:function(){for(var a="",b=this.aLi,c=0;c<b.length;c++)a+=c==this.defaults.startIndex?'<span class="active" data-ol-btn="btn"></span>':'<span data-ol-btn="btn"></span>';return a},checkIphone:function(){var a=window.navigator.userAgent.toLowerCase();return!!/iphone|ipd|ipod/.test(a)},setImgURL:function(a){var b=this,c=a.attr(""+b.imgSrc),d=2*parseInt(a.width()),e=2*parseInt(a.height());return c=c.replace(/(s[0-9]{0,4}x[0-9]{0,4}_)?jfs/,"s"+d+"x"+e+"_jfs"),c.indexOf(".webp")!=-1||b.checkIphone()||(c+=".webp"),c},changSrc:function(a){var b=this,c=a.attr(""+b.imgSrc),d=new Image,e=b.setImgURL(a);a.css("opacity",0),d.src=e,d.onload=function(){a.attr("src",e).removeAttr(""+b.imgSrc).css("opacity",1)},d.onerror=function(){a.attr("src",c).removeAttr(""+b.imgSrc).css("opacity",1)}},loadImg:function(a){var b=this,c=$(a).find("img"),d=$(a).find("img").attr(""+b.imgSrc);d&&b.changSrc(c)},show:function(){this.oBox.style.display="inline-block"},hide:function(){this.oBox.style.display="none"}},a.extend=function(a,b){for(name in b)void 0!==b[name]&&(a[name]=b[name])},a.extend(a,{setStyle:function(a,b){for(name in b)a.style[name]=b[name]},getTranX:function(a){var b=a.style.WebkitTransform||a.style.transform,c=b.indexOf("translate3d("),d=parseInt(b.substring(c+12,b.length-13));return d},_device:function(){var a=!!("ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch),b="touchstart",c="touchmove",d="touchend";return{hasTouch:a,startEvt:b,moveEvt:c,endEvt:d}},getNow:function(a,b){return a%b},getPre:function(a,b){if(a%b-1<0)var c=b-1;else var c=a%b-1;return c},getNext:function(a,b){var c=(a+1)%b;return c},getNextNew:function(a,b){var c=(a+2)%b;return c},move:function(b,c,d,e){var f=d||null;if(f&&(b.style.zIndex=f),a.setStyle(b,{WebkitTransform:"translate3d("+c+"px, 0px, 0px)",transform:"translate3d("+c+"px, 0px, 0px)"}),!e){var g=parseFloat(c)/100;g>.8?g=.8:-.8<g<0?g=-g:g<=-.8&&(g=.8),a.setStyle(b,{padding:g+"%"})}},stopDefault:function(a){return a&&a.preventDefault?a.preventDefault():window.event.returnValue=!1,!1},stopPropagation:function(a){a&&a.stopPropagation?a.stopPropagation():a.cancelBubble=!0}}),b}(),slideshow=function(){function a(a){this.p=a,this.oDiv=document.querySelector(a),this.oUl=document.querySelector(a+" .jd-slider-container"),this.aLi=document.querySelectorAll(a+" .jd-slider-item"),this.oBox={startX:0,startY:0,finalX:0,finalY:0,endX:0,endY:0,sliderX:0,sliderDirection:1,moveX:0,abortSlider:!1,numTime:0,isMove:!1,oneWidthNum:0}}var b=function(b){return new a(b)};return a.prototype={init:function(b){var b=b||{};if(this.defaults={lineNum:1,marginValue:0,fullScreen:!1,multiMove:!1,singleMove:!1,isRight:!1,isMove:!1,isSymmetry:!1,wrapperLeft:0,smallBtn:!1,startIndex:0,UlMarRight:0,mpingEvent:null,mpingFn:null},a.extend(this.defaults,b),1!=this.defaults.lineNum&&this.aLi.length<8&&(this.defaults.lineNum=2),this.setItems(),this.bind(),this.defaults.smallBtn){var c=this.oDiv.querySelector(".jd-slider-btnDiv");null!=c&&(c.innerHTML=this.addSmallBtn())}a.sliding(this.oUl,0)},bind:function(){var a=this.oDiv,b="onorientationchange"in window,c=b?"orientationchange":"resize";a.addEventListener("touchstart",this,!1),window.addEventListener(c,this,!1)},setItems:function(){var a=this.oDiv,b=this.aLi,c=this.oUl,d=this.oBox;if(this.oDivWidth=a.offsetWidth,this.oLiWidth=b[0].offsetWidth,this.oLiItemWidth=this.oLiWidth+this.defaults.marginValue,1==this.defaults.lineNum){for(var e=0,f=0;f<b.length;f++)e+=b[f].offsetWidth+this.defaults.marginValue;this.oUlWidth=e+this.defaults.UlMarRight,d.oneWidthNum=b.length}else b.length%this.defaults.lineNum!==0?d.oneWidthNum=parseInt(b.length/this.defaults.lineNum)+1:d.oneWidthNum=b.length/this.defaults.lineNum,this.oUlWidth=this.oLiItemWidth*d.oneWidthNum+this.defaults.UlMarRight;this.defaults.isSymmetry?this.eachScreenNum=parseInt((this.oDivWidth-2*this.defaults.wrapperLeft+this.defaults.marginValue)/this.oLiItemWidth):this.eachScreenNum=parseInt(this.oDivWidth/this.oLiItemWidth),this.eachScreenWidth=this.eachScreenNum*this.oLiItemWidth,c.style.width=this.oUlWidth+"px",this.oUlWidth<=this.oDivWidth&&(d.abortSlider=!0)},handleEvent:function(a){switch(a.type){case"touchstart":this.startHandler(a);break;case"touchmove":this.moveHandler(a);break;case"touchend":this.endHandler(a);break;case"orientationchange":this.orientationchangeHandler(a);break;case"resize":this.orientationchangeHandler(a)}},startHandler:function(b){b.stopPropagation();var c=b.targetTouches[0],d=this.oDiv,e=this.oUl,f=this.oBox;f.startX=c.pageX,f.startY=c.pageY,f.numTime=0,f.isMove=!1,f.abortSlider||(a.setStyle(e,{WebkitTransition:"",transition:""}),d.addEventListener("touchmove",this,!1),d.addEventListener("touchend",this,!1))},moveHandler:function(b){b.stopPropagation();var c,d=b.touches[0],e=this.oBox,f=this.oUl,g=(this.aLi,this.oUlWidth),h=this.oDivWidth,i=(document.documentElement.clientWidth,this);e.abortSlider||(0===e.numTime&&(e.finalX=d.pageX,e.finalY=d.pageY,c=a.getAngle(e.startX,e.finalX,e.startY,e.finalY)),e.numTime++,(c>=0&&c<=45||c>=135&&c<=225||c>=315&&c<=360)&&(e.isMove=!0),e.isMove&&(b.preventDefault(),i.defaults.isMove&&(e.moveX=e.sliderX+(e.finalX-e.startX),e.moveX>0&&(e.moveX=0),e.moveX<-(g-h)&&(e.moveX=-(g-h)),a.moving(f,e.moveX))))},endHandler:function(b){b.stopPropagation();var c,d=b.changedTouches[0],e=this.oDiv,f=this.oDivWidth,g=this.oUlWidth,h=this.eachScreenWidth,i=this.oBox,j=this.oUl,k=this.oLiWidth,l=this.oLiItemWidth,m=this,n=0,o=0;if(i.endX=d.pageX,i.endY=d.pageY,!i.abortSlider){if(i.isMove)if(i.sliderDirection=i.endX-i.startX<0?"LEFT":"RIGHT",Math.abs(i.endX-i.startX)<k/3&&a.sliding(j,i.sliderX),i.sliderX>0)i.sliderX=0,a.sliding(j,i.sliderX);else if(i.sliderX<-(g-f))i.sliderX=-(g-f),a.sliding(j,i.sliderX);else{if(m.defaults.fullScreen)"LEFT"==i.sliderDirection?(c=g-f,i.sliderX=c-Math.abs(i.sliderX)<f?-c:i.sliderX-f):i.sliderX=i.sliderX+f>0?0:i.sliderX+f;else if(m.defaults.multiMove)if("LEFT"==i.sliderDirection)if(c=g-h,c-Math.abs(i.sliderX)!=0&&c-Math.abs(i.sliderX)<f&&(m.defaults.isRight=!0),m.defaults.isSymmetry){if(c-Math.abs(i.sliderX)==0)return;i.sliderX=c-Math.abs(i.sliderX)<f?-(g-m.defaults.UlMarRight-f-m.defaults.marginValue):i.sliderX-h}else i.sliderX=c-Math.abs(i.sliderX)<f?-(g-m.defaults.UlMarRight-f):i.sliderX-h;else m.defaults.isRight?(m.defaults.isRight=!1,m.defaults.isSymmetry?i.sliderX=i.sliderX+f>0?0:i.sliderX+2*h-f-m.defaults.marginValue:i.sliderX=i.sliderX+f>0?0:i.sliderX+2*h-f):i.sliderX=i.sliderX+f>0?0:i.sliderX+h;else m.defaults.singleMove&&("LEFT"==i.sliderDirection?(n=Math.abs(i.endX-i.startX),o=parseInt(n/l),n-o*l>=k/3&&(o+=1),c=g-o*l,c-Math.abs(i.sliderX)<f&&(m.defaults.isRight=!0),i.sliderX=c-Math.abs(i.sliderX)<f?-(g-f):i.sliderX-o*l):(n=Math.abs(i.endX-i.startX),o=parseInt(n/l),n-o*l>=k/3&&(o+=1),m.defaults.isRight?(m.defaults.isRight=!1,i.sliderX=i.sliderX+f>0?0:i.sliderX+o*l+h-f):i.sliderX=i.sliderX+f>0?0:i.sliderX+o*l));this.defaults.smallBtn&&this.smallBtnSwitch(),a.sliding(j,i.sliderX),this.defaults.mpingFn&&"function"==typeof this.defaults.mpingFn&&this.defaults.mpingFn(),this.defaults.mpingEvent&&this.pingClick()}e.removeEventListener("touchmove",this,!1),e.removeEventListener("touchend",this,!1)}},orientationchangeHandler:function(){var b=this.oBox,c=this.oUl,d=this,e=window.navigator.userAgent;b.sliderX=0,a.sliding(c,b.sliderX),clearTimeout(f);var f=setTimeout(function(){if(e.indexOf("OS 8")!=-1&&e.indexOf("Safari")!=-1){var a=document.documentElement.clientWidth,b=document.querySelector(".cart-menu-content");b&&(b.style.width=a+"px")}if(d.setItems(),d.defaults.smallBtn){var c=d.oDiv.querySelector(".jd-slider-btnDiv");c.innerHTML=d.addSmallBtn()}},500)},addSmallBtn:function(){var a="",b=0,c=(this.aLi,this.oBox),d=this.eachScreenNum,e=this.oDivWidth,f=this.oUlWidth;if(this.defaults.fullScreen?b=Math.ceil(f/e):this.defaults.multiMove&&0!==d&&(b=c.oneWidthNum/d),b&&b>1)for(var g=0;g<b;g++)a+=g==this.defaults.startIndex?'<span class="active"></span>':"<span></span>";return a},smallBtnSwitch:function(){var b=this.oDiv,c=b.querySelectorAll(".jd-slider-btnDiv span"),d=this.oBox,e=this.oLiItemWidth,f=this.oDivWidth,g=this.eachScreenNum,h=0;if(0!==c.length){this.defaults.fullScreen?h=Math.ceil(Math.abs(d.sliderX/f)):this.defaults.multiMove&&(h=Math.ceil(Math.abs(d.sliderX/e)/g));for(var i=0;i<c.length;i++)a.removeClass(c[i],"active");a.addClass(c[h],"active")}},pingClick:function(){try{if($("#pingUse").val()){var a=new MPing.inputs.Click(this.defaults.mpingEvent);this.defaults.mpingEvent&&"MProductdetail_CouponSlide"==this.defaults.mpingEvent&&(a.event_level="5"),a.page_param=$("#currentWareId").val();var b=new MPing;b.send(a)}}catch(a){console.log(a)}}},a.extend=function(a,b){for(var c in b)void 0!==b[c]&&(a[c]=b[c])},a.extend(a,{setStyle:function(a,b){for(var c in b)a.style[c]=b[c]},hasClass:function(a,b){return a.className.match(new RegExp("(\\s|^)"+b+"(\\s|$)"))},addClass:function(b,c){a.hasClass(b,c)||(b.className+=" "+c)},removeClass:function(b,c){if(a.hasClass(b,c)){var d=new RegExp("(\\s|^)"+c+"(\\s|$)");b.className=b.className.replace(d," ")}},sliding:function(b,c){a.setStyle(b,{WebkitTransition:"500ms ease",transition:"500ms ease"}),a.setStyle(b,{WebkitTransform:"translate3d("+c+"px,0,0)",transform:"translate3d("+c+"px,0,0)"})},moving:function(b,c){a.setStyle(b,{transform:"translate3d("+c+"px,0,0)",WebkitTransform:"translate3d("+c+"px,0,0)"})},getAngle:function(a,b,c,d){var e=Math.abs(a-b),f=Math.abs(c-d),g=Math.sqrt(e*e+f*f),h=Math.round(Math.asin(f/g)/Math.PI*180);return b>=a&&d<=c?h=h:b<=a&&d<=c?h=180-h:b<=a&&d>=c?h=180+h:b>=a&&d>=c&&(h=360-h),h}}),b}();!function(a){"use strict";a.fn.toast=function(a){return new b(this[0],a)};var b=function(){var b=function(b,c){return"string"==typeof b||b instanceof String?this.container=document.getElementById(b):this.container=b,this.container?("string"!=typeof c&&"number"!=typeof c||(c={message:c}),c.autoClose===!1?c.autoClose=!1:c.autoClose=!0,this.styleType=c.styleType||1,this.width=c.width?c.width:this.width,this.height=c.height?c.height:this.height,this.cls=c.cls?c.cls:"",this.titleName=c.titleName||"",this.message=c.message||"",this.delay=c.delay||this.delay,this.autoClose=c.autoClose,this.isMaskClose=c.isMaskClose,this.maxHeight=c.maxHeight?c.maxHeight:this.maxHeight,this.islimitHeight=c.islimitHeight?c.islimitHeight:this.islimitHeight,this.okCallback=c.okCallback?c.okCallback:this.okCallback,this.btns=c.btns?c.btns:this.btns,this.listContainer=c.listContainer?c.listContainer:this.listContainer,this.container=a(this.container),0===this.container.find(".mjdToastContainer").length&&this.container.append("<div class='mjdToastContainer'></div>"),this.container=this.container.find(".mjdToastContainer"),this.container.removeClass("tr tb br tl tc bc"),void this.show()):void window.alert("error finding container for toast "+b)};return b.prototype={cls:null,titleName:null,message:null,delay:2e3,styleType:1,el:null,container:null,listContainer:null,timer:null,width:0,height:0,autoClose:!0,isMaskClose:!0,scrollH:"",bodyH:"",maxHeight:0,islimitHeight:!0,btns:{cancelTxt:"取消",okTxt:"提交"},okCallback:function(){},show:function(){var b=this,c=this.addHtml();this.el=a(c).get(0),this.container.append(this.el);var d=a(b.el);if(null!=b.listContainer){var e=a(b.listContainer);b.bodyH=e.height(),b.scrollH=document.body.scrollTop}b.setPosition(d),b.setEvent(d),1==b.styleType&&(b.islimitHeight=!1),b.islimitHeight&&b.setBody(1),b.autoClose&&(b.timer=setTimeout(function(){b.hide()},this.delay))},setEvent:function(b){var c=this;switch(c.styleType){case 1:c.isMaskClose&&b.bind("click",function(){c.hide()});break;case 2:a(".btn-close").bind("click",function(){c.hide()}),a(".btn-sure").bind("click",function(){c.okCallback(),c.hide()});break;case 3:a(".btn-cancel").bind("click",function(){c.hide()}),a(".btn-ok").bind("click",function(){c.okCallback(),c.hide()});break;case 4:a(".one-btn-tip-btn").bind("click",function(){c.hide()})}},setPosition:function(a){var b=this,c=a.find(".content-box");b.width>0?c.css("width",b.width):b.width=c.css("width").replace("px",""),b.height<=0&&(b.height=c.css("height").replace("px","")),c.css("marginLeft",-b.width/2),c.css("marginTop",-b.height/2);var d=a.find(".txt-max-height");d.css({maxHeight:b.maxHeight,overflow:"scroll"})},setBody:function(b){var c=this,d=document.documentElement.clientHeight,e=a(c.listContainer);1==b?e.css({height:d,overflow:"hidden"}):2==b&&(e.css({height:c.bodyH,overflow:""}),document.body.scrollTop=c.scrollH)},hide:function(){var a=this;a.islimitHeight&&a.setBody(2),null!=a.timer&&clearTimeout(a.timer),a.remove()},remove:function(){var b=a(this.el);b.remove()},addHtml:function(){var a=this,b="";switch(a.styleType){case 1:b='<div class="shade-floor">',b+='<div class="message-box content-box">',b+='<div class="message-box-icon"><i class="message-icon '+a.cls+'"></i></div>',b+='<div class="message-box-content txt-align">'+a.message+"</div>",b+="</div>",b+="</div>";break;case 2:b='<div class="shade-floor">',b+='<div class="cover-floor"></div>',b+='<div class="choose-box content-box">',b+='<div class="choose-box-title">'+a.titleName+"</div>",b+='<div class="message-div">',b+='<div class="message-txt">'+a.message+"</div>",b+='</div><div class="choose-box-btn">',b+='<a class="btn-close">'+a.btns.cancelTxt+"</a>",b+='<a class="btn-sure">'+a.btns.okTxt+"</a>",b+="</div></div></div>";break;case 3:b+='<div class="shade-floor" id="pop-modal">',b+='<div class="cover-floor"></div>',b+=' <div class="info-box content-box">',b+=' <div class="info-box-content bdb-1px">',b+=' <span class="info-box-text">'+a.message+"</span>",b+=' </div><div class="box-container"><div class="btn-box">',b+=' <a class="btn-box-item"><i class="btn-cancel">'+a.btns.cancelTxt+"</i></a>",b+=' <a  class="btn-box-item"><i class="btn-ok">'+a.btns.okTxt+"</i></a>",b+=" </div></div></div></div>";break;case 4:b+='<div class="shade-floor" id="popModalOneBtn" style="visibility:visible;">',b+='<div class="cover-floor"></div>',b+=' <div class="content-box one-btn-tip-box-tip">',b+='   <div class="one-btn-tip-info">',b+='     <span class="txt-max-height">'+a.message+"</span>",b+="   </div>",b+='   <div class="one-btn-tip-btn">'+a.btns.closeTxt+"</div>",b+=" </div></div>"}return b}},b}();a.toast=function(b){a(document.body).toast(b)}}($),function(a){var b=a.jdM=a.jdM||{};localStorageUtil=function(){function a(a){return f&&a&&(rss=window.localStorage.getItem(a)),rss}function b(a,b){if(f&&a)try{window.localStorage[a]=b}catch(a){console.log("error"),f=!1}}function c(a){f&&a&&window.localStorage.removeItem(a)}function e(){f&&d.each(window.localStorage,function(a,b,c,d){window.localStorage.removeItem(c)})}var f=!!window.localStorage;return{get:a,set:b,remove:c,removeAll:e}};var c={toString:function(a,b){var c=void 0,d=a.getFullYear(),e=a.getMonth()+1,f=a.getDate(),g=a.getHours(),h=a.getMinutes(),i=a.getSeconds();return e=parseInt(e)<10?"0"+e:e,f=parseInt(f)<10?"0"+f:f,g=parseInt(g)<10?"0"+g:g,h=parseInt(h)<10?"0"+h:h,i=parseInt(i)<10?"0"+i:i,"yyyy-MM-dd HH:mm:ss"==b?c=d+"-"+e+"-"+f+" "+g+":"+h+":"+i:"yyyy-MM-dd"==b?c=d+"-"+e+"-"+f:"yyyy-MM"==b?c=d+"-"+e:"yyyy"==b&&(c=d),c},toDate:function(a){if(19==a.length){var b=a.substring(0,4),c=a.substring(5,7),d=a.substring(8,10),e=a.substring(11,13),f=a.substring(14,16),g=a.substring(17,19);return new Date(b,c-1,d,e,f,g)}if(10==a.length){var b=a.substring(0,4),c=a.substring(5,7),d=a.substring(8,10);return new Date(b,c-1,d)}if(7==a.length){var b=a.substring(0,4),c=a.substring(5,7);return new Date(b,c-1)}if(4==a.length){var b=a.substring(0,4);return new Date(b)}},getMonthDays:function(a,b){var c=new Array(31,28,31,30,31,30,31,31,30,31,30,31),d=a.getFullYear();return"undefined"==typeof b&&(b=a.getMonth()),0!=d%4||0==d%100&&0!=d%400||1!=b?c[b]:29},addDays:function(a,b){var d=1==arguments.length?c.toDate(c.today()):c.toDate(b);return d=new Date(d.getTime()+24*parseInt(a)*3600*1e3),c.toString(new Date(d),"yyyy-MM-dd HH:mm:ss")},addMonths:function(a,b){var d=1==arguments.length?c.toDate(c.today()):c.toDate(b),e=(d.getMonth(),d.getDate()),f=c.getMonthDays(d,d.getMonth()+parseInt(a));return e>f&&d.setDate(f),d.setMonth(d.getMonth()+parseInt(a)),c.toString(d,"yyyy-MM-dd HH:mm:ss")},addMonthsForStart:function(a,b){var d=1==arguments.length?c.today():b;return d=c.addMonths(a,d),c.firstDayOfMonth(d)},addMonthsForEnd:function(a,b){var d=1==arguments.length?c.today():b;return d=c.addMonths(a,d),c.addDays(-1,c.firstDayOfMonth(d))},addYears:function(a,b){var d=1==arguments.length?c.toDate(c.today()):c.toDate(b);return d.setYear(d.getYear()+parseInt(a)),c.toString(d,"yyyy-MM-dd HH:mm:ss")},addYearsForStart:function(a,b){var d=1==arguments.length?c.today():b;return d=c.addYears(a,d),c.firstDayOfYear(d)},addYearsForEnd:function(a,b){var d=1==arguments.length?c.today():b;return d=c.addYears(a,d),c.firstDayOfYear(d)},sunOfWeek:function(a){var b=0==arguments.length?c.toDate(c.today()):c.toDate(a);return b=new Date(b-864e5*b.getDay()),c.toString(b,"yyyy-MM-dd HH:mm:ss")},monOfWeek:function(a){var b=0==arguments.length?c.toDate(c.today()):c.toDate(a);return b=new Date(b-864e5*(b.getDay()-1)),c.toString(b,"yyyy-MM-dd HH:mm:ss")},tueOfWeek:function(a){var b=0==arguments.length?c.toDate(c.today()):c.toDate(a);return b=new Date(b-864e5*(b.getDay()-2)),c.toString(b,"yyyy-MM-dd HH:mm:ss")},wedOfWeek:function(a){var b=0==arguments.length?c.toDate(c.today()):c.toDate(a);return b=new Date(b-864e5*(b.getDay()-3)),c.toString(b,"yyyy-MM-dd HH:mm:ss")},turOfWeek:function(a){var b=0==arguments.length?c.toDate(c.today()):c.toDate(a);return b=new Date(b-864e5*(b.getDay()-4)),c.toString(b,"yyyy-MM-dd HH:mm:ss")},friOfWeek:function(a){var b=0==arguments.length?c.toDate(c.today()):c.toDate(a);return b=new Date(b-864e5*(b.getDay()-5)),c.toString(b,"yyyy-MM-dd HH:mm:ss")},satOfWeek:function(a){var b=0==arguments.length?c.toDate(c.today()):c.toDate(a);return b=new Date(b-864e5*(b.getDay()-6)),c.toString(b,"yyyy-MM-dd HH:mm:ss")},firstDayOfMonth:function(a){var b=0==arguments.length?c.toDate(c.today()):c.toDate(a);return b.setDate(1),c.toString(b,"yyyy-MM-dd HH:mm:ss")},lastDayOfMonth:function(a){return a=0==arguments.length?c.today():a,a=c.addMonths(1,a),a=c.firstDayOfMonth(a),a=c.addDays(-1,a)},firstDayOfYear:function(a){var b=0==arguments.length?c.toDate(c.today()):c.toDate(a);return b.setMonth(0),b.setDate(1),c.toString(b,"yyyy-MM-dd HH:mm:ss")},lastDayOfYear:function(a){var b=0==arguments.length?c.toDate(c.today()):c.toDate(a);return b.setMonth(11),b.setDate(31),c.toString(b,"yyyy-MM-dd HH:mm:ss")},today:function(a){return 0==arguments.length?c.toString(new Date,"yyyy-MM-dd"):c.toString(new Date,a)}},d={$mObj:{},merge:function(a,b,c){if(!a||!b||"object"!=typeof b)return a;if(c){var e,f;for(e in b)b.hasOwnProperty(e)&&(f=b[e],f&&f.constructor===Object&&a[e]&&a[e].constructor===Object?d.merge(a[e],f):a[e]=f)}else for(var g in b)a[g]=b[g];return a},clone:function(a,b){return d.merge({},a,b)},namespace:function(){var b,c,e,f,g,h,i=a;for(e=0,g=arguments.length;e<g;e++){var j=arguments[e];if(!d.$mObj.namespace[j]){for(b=j.split("."),f=0,h=b.length;f<h;f++)c=b[f],i[c]||(i[c]={}),i=i[c];d.$mObj.namespace[j]=!0}}},extend:function(){var a=function(a){for(var b in a)a.hasOwnProperty(b)&&(this[b]=a[b])};return function(b,c){"function"==typeof b||(b=function(){});var d=function(){b.apply(this,arguments)},e=function(){};return e.prototype=b.prototype,d.prototype=new e,d.prototype.constructor=d,d.superclass=b.prototype,b.prototype.constructor===Object.prototype.constructor&&(b.prototype.constructor=b),d.override=function(a){if(d.prototype&&a&&"object"==typeof a)for(var b in a)d.prototype[b]=a[b]},d.prototype.override=a,d.override(c),d}}(),each:function(a,b,c){if(!d.isEmpty(a)&&b)if(d.isArray(a))for(var e=0,f=a.length;e<f;e++)try{if(b.call(c,a[e],e,a)===!1)return}catch(a){M.log(a,"error")}else for(var g in a)if(a.hasOwnProperty(g))try{if(b.call(c,a[g],g,a)===!1)return}catch(a){M.log(a,"error")}},contains:function(a,b){if(d.isArray(a)){if("indexOf"in Array.prototype)return a.indexOf(b)!==-1;var c,e;for(c=0,e=a.length;c<e;c++)if(a[c]===b)return!0;return!1}return!d.isEmpty(a)&&b in a},isEmpty:function(a,b){if("undefined"==typeof a||null===a||!b&&""===a||d.isArray(a)&&0===a.length)return!0;if(d.isObject(a)){for(var c in a)if(Object.prototype.hasOwnProperty.call(a,c))return!1;return!0}return!1},isBlank:function(a){return!!d.isEmpty(a)||d.isEmpty(String(a).replace(/^\s+|\s+$/g,""))},isDefined:function(a){return"undefined"==typeof a},isObject:function(a){return"[object Object]"===Object.prototype.toString.call(null)?null!==a&&void 0!==a&&"[object Object]"===Object.prototype.toString.call(a)&&void 0===a.ownerDocument:"[object Object]"===Object.prototype.toString.call(a)},isFunction:function(a){return"[object Function]"===Object.prototype.toString.apply(a)},isArray:function(a){return"[object Array]"===Object.prototype.toString.apply(a)},isDate:function(a){return"[object Date]"===Object.prototype.toString.apply(a)},isNumber:function(a){return"number"==typeof a&&isFinite(a)},isString:function(a){return"string"==typeof a},isBoolean:function(a){return"boolean"==typeof a}};b.localstorage=new localStorageUtil,b.date=c,b.object=d}(window);var regionLevels={region:[{addressList:[{id:"1",name:"北京"},{id:"2",name:"上海"},{id:"3",name:"天津"},{id:"4",name:"重庆"},{id:"5",name:"河北"},{id:"6",name:"山西"},{id:"7",name:"河南"},{id:"8",name:"辽宁"},{id:"9",name:"吉林"},{id:"10",name:"黑龙江"},{id:"11",name:"内蒙古"},{id:"12",name:"江苏"},{id:"13",name:"山东"},{id:"14",name:"安徽"},{id:"15",name:"浙江"},{id:"16",name:"福建"},{id:"17",name:"湖北"},{id:"18",name:"湖南"},{id:"19",name:"广东"},{id:"20",name:"广西"},{id:"21",name:"江西"},{id:"22",name:"四川"},{id:"23",name:"海南"},{id:"24",name:"贵州"},{id:"25",name:"云南"},{id:"26",name:"西藏"},{id:"27",name:"陕西"},{id:"28",name:"甘肃"},{id:"29",name:"青海"},{id:"30",name:"宁夏"},{id:"31",name:"新疆"},{id:"32",name:"台湾"},{id:"42",name:"香港"},{id:"43",name:"澳门"},{id:"84",name:"钓鱼岛"}]},{addressList:[{id:"72",name:"朝阳区"},{id:"2800",name:"海淀区"},{id:"2801",name:"西城区"},{id:"2802",name:"东城区"},{id:"2803",name:"崇文区"},{id:"2804",name:"宣武区"},{id:"2805",name:"丰台区"},{id:"2806",name:"石景山区"},{id:"2807",name:"门头沟"},{id:"2808",name:"房山区"},{id:"2809",name:"通州区"},{id:"2810",name:"大兴区"},{id:"2812",name:"顺义区"},{id:"2814",name:"怀柔区"},{id:"2816",name:"密云区"},{id:"2901",name:"昌平区"},{id:"2953",name:"平谷区"},{id:"3065",name:"延庆县"}]},{addressList:[{id:"78",name:"黄浦区"},{id:"2813",name:"徐汇区"},{id:"2815",name:"长宁区"},{id:"2817",name:"静安区"},{id:"2820",name:"闸北区"},{id:"2822",name:"虹口区"},{id:"2823",name:"杨浦区"},{id:"2824",name:"宝山区"},{id:"2825",name:"闵行区"},{id:"2826",name:"嘉定区"},{id:"2830",name:"浦东新区"},{id:"2833",name:"青浦区"},{id:"2834",name:"松江区"},{id:"2835",name:"金山区"},{id:"2837",name:"奉贤区"},{id:"2841",name:"普陀区"},{id:"2919",name:"崇明县"}]},{addressList:[{id:"51035",name:"东丽区"},{id:"51036",name:"和平区"},{id:"51037",name:"河北区"},{id:"51038",name:"河东区"},{id:"51039",name:"河西区"},{id:"51040",name:"红桥区"},{id:"51041",name:"蓟县"},{id:"51042",name:"静海县"},{id:"51043",name:"南开区"},{id:"51044",name:"塘沽区"},{id:"51045",name:"西青区"},{id:"51046",name:"武清区"},{id:"51047",name:"津南区"},{id:"51048",name:"汉沽区"},{id:"51049",name:"大港区"},{id:"51050",name:"北辰区"},{id:"51051",name:"宝坻区"},{id:"51052",name:"宁河县"}]},{addressList:[{id:"113",name:"万州区"},{id:"114",name:"涪陵区"},{id:"115",name:"梁平县"},{id:"119",name:"南川区"},{id:"123",name:"潼南县"},{id:"126",name:"大足区"},{id:"128",name:"黔江区"},{id:"129",name:"武隆县"},{id:"130",name:"丰都县"},{id:"131",name:"奉节县"},{id:"132",name:"开县"},{id:"133",name:"云阳县"},{id:"134",name:"忠县"},{id:"135",name:"巫溪县"},{id:"136",name:"巫山县"},{id:"137",name:"石柱县"},{id:"138",name:"彭水县"},{id:"139",name:"垫江县"},{id:"140",name:"酉阳县"},{id:"141",name:"秀山县"},{id:"4164",name:"城口县"},{id:"48131",name:"璧山县"},{id:"48132",name:"荣昌县"},{id:"48133",name:"铜梁县"},{id:"48201",name:"合川区"},{id:"48202",name:"巴南区"},{id:"48203",name:"北碚区"},{id:"48204",name:"江津区"},{id:"48205",name:"渝北区"},{id:"48206",name:"长寿区"},{id:"48207",name:"永川区"},{id:"50950",name:"江北区"},{id:"50951",name:"南岸区"},{id:"50952",name:"九龙坡区"},{id:"50953",name:"沙坪坝区"},{id:"50954",name:"大渡口区"},{id:"50995",name:"綦江区"},{id:"51026",name:"渝中区"},{id:"51027",name:"高新区"},{id:"51028",name:"北部新区"}]},{addressList:[{id:"142",name:"石家庄市"},{id:"148",name:"邯郸市"},{id:"164",name:"邢台市"},{id:"199",name:"保定市"},{id:"224",name:"张家口市"},{id:"239",name:"承德市"},{id:"248",name:"秦皇岛市"},{id:"258",name:"唐山市"},{id:"264",name:"沧州市"},{id:"274",name:"廊坊市"},{id:"275",name:"衡水市"}]},{addressList:[{id:"303",name:"太原市"},{id:"309",name:"大同市"},{id:"318",name:"阳泉市"},{id:"325",name:"晋城市"},{id:"330",name:"朔州市"},{id:"336",name:"晋中市"},{id:"350",name:"忻州市"},{id:"368",name:"吕梁市"},{id:"379",name:"临汾市"},{id:"398",name:"运城市"},{id:"3074",name:"长治市"}]},{addressList:[{id:"412",name:"郑州市"},{id:"420",name:"开封市"},{id:"427",name:"洛阳市"},{id:"438",name:"平顶山市"},{id:"446",name:"焦作市"},{id:"454",name:"鹤壁市"},{id:"458",name:"新乡市"},{id:"468",name:"安阳市"},{id:"475",name:"濮阳市"},{id:"482",name:"许昌市"},{id:"489",name:"漯河市"},{id:"495",name:"三门峡市"},{id:"502",name:"南阳市"},{id:"517",name:"商丘市"},{id:"527",name:"周口市"},{id:"538",name:"驻马店市"},{id:"549",name:"信阳市"},{id:"2780",name:"济源市"}]},{addressList:[{id:"560",name:"沈阳市"},{id:"573",name:"大连市"},{id:"579",name:"鞍山市"},{id:"584",name:"抚顺市"},{id:"589",name:"本溪市"},{id:"593",name:"丹东市"},{id:"598",name:"锦州市"},{id:"604",name:"葫芦岛市"},{id:"609",name:"营口市"},{id:"613",name:"盘锦市"},{id:"617",name:"阜新市"},{id:"621",name:"辽阳市"},{id:"632",name:"朝阳市"},{id:"6858",name:"铁岭市"}]},{addressList:[{id:"639",name:"长春市"},{id:"644",name:"吉林市"},{id:"651",name:"四平市"},{id:"657",name:"通化市"},{id:"664",name:"白山市"},{id:"674",name:"松原市"},{id:"681",name:"白城市"},{id:"687",name:"延边州"},{id:"2992",name:"辽源市"}]},{addressList:[{id:"698",name:"哈尔滨市"},{id:"712",name:"齐齐哈尔市"},{id:"727",name:"鹤岗市"},{id:"731",name:"双鸭山市"},{id:"737",name:"鸡西市"},{id:"742",name:"大庆市"},{id:"753",name:"伊春市"},{id:"757",name:"牡丹江市"},{id:"765",name:"佳木斯市"},{id:"773",name:"七台河市"},{id:"776",name:"黑河市"},{id:"782",name:"绥化市"},{id:"793",name:"大兴安岭地区"}]},{addressList:[{id:"799",name:"呼和浩特市"},{id:"805",name:"包头市"},{id:"810",name:"乌海市"},{id:"812",name:"赤峰市"},{id:"823",name:"乌兰察布市"},{id:"835",name:"锡林郭勒盟"},{id:"848",name:"呼伦贝尔市"},{id:"870",name:"鄂尔多斯市"},{id:"880",name:"巴彦淖尔市"},{id:"891",name:"阿拉善盟"},{id:"895",name:"兴安盟"},{id:"902",name:"通辽市"}]},{addressList:[{id:"904",name:"南京市"},{id:"911",name:"徐州市"},{id:"919",name:"连云港市"},{id:"925",name:"淮安市"},{id:"933",name:"宿迁市"},{id:"939",name:"盐城市"},{id:"951",name:"扬州市"},{id:"959",name:"泰州市"},{id:"965",name:"南通市"},{id:"972",name:"镇江市"},{id:"978",name:"常州市"},{id:"984",name:"无锡市"},{id:"988",name:"苏州市"}]},{addressList:[{id:"1000",name:"济南市"},{id:"1007",name:"青岛市"},{id:"1016",name:"淄博市"},{id:"1022",name:"枣庄市"},{id:"1025",name:"东营市"},{id:"1032",name:"潍坊市"},{id:"1042",name:"烟台市"},{id:"1053",name:"威海市"},{id:"1058",name:"莱芜市"},{id:"1060",name:"德州市"},{id:"1072",name:"临沂市"},{id:"1081",name:"聊城市"},{id:"1090",name:"滨州市"},{id:"1099",name:"菏泽市"},{id:"1108",name:"日照市"},{id:"1112",name:"泰安市"},{id:"2900",name:"济宁市"}]},{addressList:[{id:"1114",name:"铜陵市"},{id:"1116",name:"合肥市"},{id:"1121",name:"淮南市"},{id:"1124",name:"淮北市"},{id:"1127",name:"芜湖市"},{id:"1132",name:"蚌埠市"},{id:"1137",name:"马鞍山市"},{id:"1140",name:"安庆市"},{id:"1151",name:"黄山市"},{id:"1159",name:"滁州市"},{id:"1167",name:"阜阳市"},{id:"1174",name:"亳州市"},{id:"1180",name:"宿州市"},{id:"1201",name:"池州市"},{id:"1206",name:"六安市"},{id:"2971",name:"宣城市"}]},{addressList:[{id:"1158",name:"宁波市"},{id:"1213",name:"杭州市"},{id:"1233",name:"温州市"},{id:"1243",name:"嘉兴市"},{id:"1250",name:"湖州市"},{id:"1255",name:"绍兴市"},{id:"1262",name:"金华市"},{id:"1273",name:"衢州市"},{id:"1280",name:"丽水市"},{id:"1290",name:"台州市"},{id:"1298",name:"舟山市"}]},{addressList:[{id:"1303",name:"福州市"},{id:"1315",name:"厦门市"},{id:"1317",name:"三明市"},{id:"1329",name:"莆田市"},{id:"1332",name:"泉州市"},{id:"1341",name:"漳州市"},{id:"1352",name:"南平市"},{id:"1362",name:"龙岩市"},{id:"1370",name:"宁德市"}]},{addressList:[{id:"1381",name:"武汉市"},{id:"1387",name:"黄石市"},{id:"1396",name:"襄阳市"},{id:"1405",name:"十堰市"},{id:"1413",name:"荆州市"},{id:"1421",name:"宜昌市"},{id:"1432",name:"孝感市"},{id:"1441",name:"黄冈市"},{id:"1458",name:"咸宁市"},{id:"1466",name:"恩施州"},{id:"1475",name:"鄂州市"},{id:"1477",name:"荆门市"},{id:"1479",name:"随州市"},{id:"2922",name:"潜江市"},{id:"2980",name:"天门市"},{id:"2983",name:"仙桃市"},{id:"3154",name:"神农架林区"}]},{addressList:[{id:"1482",name:"长沙市"},{id:"1488",name:"株洲市"},{id:"1495",name:"湘潭市"},{id:"1499",name:"韶山市"},{id:"1501",name:"衡阳市"},{id:"1511",name:"邵阳市"},{id:"1522",name:"岳阳市"},{id:"1530",name:"常德市"},{id:"1540",name:"张家界市"},{id:"1544",name:"郴州市"},{id:"1555",name:"益阳市"},{id:"1560",name:"永州市"},{id:"1574",name:"怀化市"},{id:"1586",name:"娄底市"},{id:"1592",name:"湘西州"}]},{addressList:[{id:"1601",name:"广州市"},{id:"1607",name:"深圳市"},{id:"1609",name:"珠海市"},{id:"1611",name:"汕头市"},{id:"1617",name:"韶关市"},{id:"1627",name:"河源市"},{id:"1634",name:"梅州市"},{id:"1643",name:"惠州市"},{id:"1650",name:"汕尾市"},{id:"1655",name:"东莞市"},{id:"1657",name:"中山市"},{id:"1659",name:"江门市"},{id:"1666",name:"佛山市"},{id:"1672",name:"阳江市"},{id:"1677",name:"湛江市"},{id:"1684",name:"茂名市"},{id:"1690",name:"肇庆市"},{id:"1698",name:"云浮市"},{id:"1704",name:"清远市"},{id:"1705",name:"潮州市"},{id:"1709",name:"揭阳市"}]},{addressList:[{id:"1715",name:"南宁市"},{id:"1720",name:"柳州市"},{id:"1726",name:"桂林市"},{id:"1740",name:"梧州市"},{id:"1746",name:"北海市"},{id:"1749",name:"防城港市"},{id:"1753",name:"钦州市"},{id:"1757",name:"贵港市"},{id:"1761",name:"玉林市"},{id:"1792",name:"贺州市"},{id:"1806",name:"百色市"},{id:"1818",name:"河池市"},{id:"3044",name:"来宾市"},{id:"3168",name:"崇左市"}]},{addressList:[{id:"1827",name:"南昌市"},{id:"1832",name:"景德镇市"},{id:"1836",name:"萍乡市"},{id:"1842",name:"新余市"},{id:"1845",name:"九江市"},{id:"1857",name:"鹰潭市"},{id:"1861",name:"上饶市"},{id:"1874",name:"宜春市"},{id:"1885",name:"抚州市"},{id:"1898",name:"吉安市"},{id:"1911",name:"赣州市"}]},{addressList:[{id:"1930",name:"成都市"},{id:"1946",name:"自贡市"},{id:"1950",name:"攀枝花市"},{id:"1954",name:"泸州市"},{id:"1960",name:"绵阳市"},{id:"1962",name:"德阳市"},{id:"1977",name:"广元市"},{id:"1983",name:"遂宁市"},{id:"1988",name:"内江市"},{id:"1993",name:"乐山市"},{id:"2005",name:"宜宾市"},{id:"2016",name:"广安市"},{id:"2022",name:"南充市"},{id:"2033",name:"达州市"},{id:"2042",name:"巴中市"},{id:"2047",name:"雅安市"},{id:"2058",name:"眉山市"},{id:"2065",name:"资阳市"},{id:"2070",name:"阿坝州"},{id:"2084",name:"甘孜州"},{id:"2103",name:"凉山州"}]},{addressList:[{id:"2121",name:"海口市"},{id:"3034",name:"儋州市"},{id:"3115",name:"琼海市"},{id:"3137",name:"万宁市"},{id:"3173",name:"东方市"},{id:"3690",name:"三亚市"},{id:"3698",name:"文昌市"},{id:"3699",name:"五指山市"},{id:"3701",name:"临高县"},{id:"3702",name:"澄迈县"},{id:"3703",name:"定安县"},{id:"3704",name:"屯昌县"},{id:"3705",name:"昌江县"},{id:"3706",name:"白沙县"},{id:"3707",name:"琼中县"},{id:"3708",name:"陵水县"},{id:"3709",name:"保亭县"},{id:"3710",name:"乐东县"},{id:"3711",name:"三沙市"}]},{addressList:[{id:"2144",name:"贵阳市"},{id:"2150",name:"六盘水市"},{id:"2155",name:"遵义市"},{id:"2169",name:"铜仁市"},{id:"2180",name:"毕节市"},{id:"2189",name:"安顺市"},{id:"2196",name:"黔西南州"},{id:"2205",name:"黔东南州"},{id:"2222",name:"黔南州"}]},{addressList:[{id:"2235",name:"昆明市"},{id:"2247",name:"曲靖市"},{id:"2258",name:"玉溪市"},{id:"2270",name:"昭通市"},{id:"2281",name:"普洱市"},{id:"2291",name:"临沧市"},{id:"2298",name:"保山市"},{id:"2304",
name:"丽江市"},{id:"2309",name:"文山州"},{id:"2318",name:"红河州"},{id:"2332",name:"西双版纳州"},{id:"2336",name:"楚雄州"},{id:"2347",name:"大理州"},{id:"2360",name:"德宏州"},{id:"2366",name:"怒江州"},{id:"4108",name:"迪庆州"}]},{addressList:[{id:"2951",name:"拉萨市"},{id:"3107",name:"那曲地区"},{id:"3129",name:"山南地区"},{id:"3138",name:"昌都地区"},{id:"3144",name:"日喀则地区"},{id:"3970",name:"阿里地区"},{id:"3971",name:"林芝地区"}]},{addressList:[{id:"2376",name:"西安市"},{id:"2386",name:"铜川市"},{id:"2390",name:"宝鸡市"},{id:"2402",name:"咸阳市"},{id:"2416",name:"渭南市"},{id:"2428",name:"延安市"},{id:"2442",name:"汉中市"},{id:"2454",name:"榆林市"},{id:"2468",name:"商洛市"},{id:"2476",name:"安康市"}]},{addressList:[{id:"2487",name:"兰州市"},{id:"2492",name:"金昌市"},{id:"2495",name:"白银市"},{id:"2501",name:"天水市"},{id:"2509",name:"嘉峪关市"},{id:"2518",name:"平凉市"},{id:"2525",name:"庆阳市"},{id:"2534",name:"陇南市"},{id:"2544",name:"武威市"},{id:"2549",name:"张掖市"},{id:"2556",name:"酒泉市"},{id:"2564",name:"甘南州"},{id:"2573",name:"临夏州"},{id:"3080",name:"定西市"}]},{addressList:[{id:"2580",name:"西宁市"},{id:"2585",name:"海东地区"},{id:"2592",name:"海北州"},{id:"2597",name:"黄南州"},{id:"2603",name:"海南州"},{id:"2605",name:"果洛州"},{id:"2612",name:"玉树州"},{id:"2620",name:"海西州"}]},{addressList:[{id:"2628",name:"银川市"},{id:"2632",name:"石嘴山市"},{id:"2637",name:"吴忠市"},{id:"2644",name:"固原市"},{id:"3071",name:"中卫市"}]},{addressList:[{id:"2652",name:"乌鲁木齐市"},{id:"2654",name:"克拉玛依市"},{id:"2656",name:"石河子市"},{id:"2658",name:"吐鲁番地区"},{id:"2662",name:"哈密地区"},{id:"2666",name:"和田地区"},{id:"2675",name:"阿克苏地区"},{id:"2686",name:"喀什地区"},{id:"2699",name:"克孜勒苏州"},{id:"2704",name:"巴音郭楞州"},{id:"2714",name:"昌吉州"},{id:"2723",name:"博尔塔拉州"},{id:"2727",name:"伊犁州"},{id:"2736",name:"塔城地区"},{id:"2744",name:"阿勒泰地区"},{id:"4110",name:"五家渠市"},{id:"15945",name:"阿拉尔市"},{id:"15946",name:"图木舒克市"}]},{addressList:[{id:"2768",name:"台湾"}]},{addressList:[{id:"2754",name:"香港特别行政区"}]},{addressList:[{id:"2770",name:"澳门市"}]}]},mitemAddrName="";!function(a){a.fn.generateRegionList=function(b){var c,d,e=a("#btn-select-region"),f=a("#region-back-arrow"),g=!1,h="click",i=!1,j={init:function(){c=1,a(".list_content_mask").on(h,function(){j.closeMsk()}),j.setBtnTrigger(),j.setEventToLists(1),j.setEventToBack()},setBtnTrigger:function(){e.on(h,function(){d=document.body.scrollTop,g=!1,j.showMsk();var b=a(this).attr("region-data");b=b.split(",")[c-1],j.getRegionInfo(c,b);a(".region-wrapper")})},showLoading:function(){a(".loading-mask").show()},hideLoading:function(){a(".loading-mask").hide()},regionUrl:function(c){var d=b.actionURL;return d+="&wareId="+b.wareID,d+="&provinceId="+a("#jdDeliverList1 li.checked").attr("id"),3==c?d+="&cityId="+a("#jdDeliverList2 li.checked").attr("id"):4==c?(d+="&cityId="+a("#jdDeliverList2 li.checked").attr("id"),d+="&countryId="+a("#jdDeliverList3 li.checked").attr("id")):5==c&&(d+="&cityId="+a("#jdDeliverList2 li.checked").attr("id"),d+="&countryId="+a("#jdDeliverList3 li.checked").attr("id"),d+="&townId="+a("#jdDeliverList4 li.checked").attr("id")),d+="&action="+a("#jdDeliverList"+(c-1)+" li.checked").attr("action")},getRegionInfo:function(b,c){if(b>2)a.ajax({dataType:"json",url:j.regionUrl(b),cache:!1,beforeSend:function(){j.showLoading()},success:function(a){var c=a;setTimeout(function(){j.hideLoading(),a&&a.addressList?(j.delEventToLists(b),j.drawRegionList(b,a.addressList)):(3==Number(b)&&j.cleanUL(Number(b)+1),j.getResult(c)),i=!1},300)},error:function(){i=!1,j.hideLoading()}});else if(1==b)j.drawRegionList(b,regionLevels.region[0].addressList);else if(2==b)if(c<=32)j.drawRegionList(b,regionLevels.region[c].addressList);else{if(84==c)return;var d=33;42==c?d=33:43==c&&(d=34),j.drawRegionList(b,regionLevels.region[d].addressList)}},drawRegionList:function(c,d){var e=a("#jdDeliverList"+c),f="";e.html("");var g=a("#btn-select-region").attr("region-data");g=g.split(",")[c-1];var h=a("#btn-select-region").attr("usualAddress-data");if(h&&"true"==h&&1==c&&b.initFlag&&a("#pin")&&a("#pin").val()){j.getLiHTML(c,f,d,g,e);var i=b.actionURL;i+="&wareId="+b.wareID+"&action=usualAddress",a.ajax({dataType:"json",url:i,timeout:5e3,cache:!1,success:function(b){var d="",e=a("#btn-select-region").attr("common-data"),f=-1,g=!1;if(b&&b.usualAddressList&&b.usualAddressList.length>0){for(var h=0;h<b.usualAddressList.length;h++){var i=b.usualAddressList;i[h].fullAddress&&"null"!=i[h].fullAddress&&(g||(d+='<li class="address-kind"><span>常用地址</span></li>',g=!0),e&&i[h].id&&e==i[h].id?(f=h,d+='<li class="common-address checked J_ping"   report-eventid="MProductdetail_ShippingAddress"  report-pageparam="'+a("#currentWareId").val()+'"  common_id="'+i[h].id+'" data="'+i[h].provinceId+","+i[h].cityId+","+i[h].countyId+","+i[h].townId+'"><i class="tick"></i><span>'+i[h].fullAddress+"</span></li>"):d+='<li class="common-address J_ping"  report-eventid="MProductdetail_ShippingAddress"  report-pageparam="'+a("#currentWareId").val()+'"  common_id="'+i[h].id+'" data="'+i[h].provinceId+","+i[h].cityId+","+i[h].countyId+","+i[h].townId+'"><i class="tick"></i><span>'+i[h].fullAddress+"</span></li>")}g&&(d+='<li class="address-kind"><span>选择其他地址</span></li>')}if(f!=-1)for(var k=a("#jdDeliverList"+c).find(".choice-address"),h=0;h<k.length;h++)k.eq(h).removeClass("checked");a("#jdDeliverList1").prepend(d),j.setEventToLists(c),j.switchTo(c)},error:function(){}})}else j.getLiHTML(c,f,d,g,e);b.initFlag=!0},cleanUL:function(b){a("#jdDeliverList"+b).empty()},showMsk:function(){var b=a(window).height();a("html").removeClass("sidebar-back"),a("html").addClass("sidebar-move"),a(".list_content_mask").css("display","block"),a(".sidebar-content").css("display","block"),a(".region-wrapper ul").height(b-45)},closeMsk:function(){a("html").addClass("sidebar-back"),setTimeout(function(){a("html").removeClass("sidebar-back"),a("html").removeClass("sidebar-move")},300),a(".list_content_mask").css("display","none"),a(".sidebar-content").css("display","none"),c=1,g=!1,setTimeout(function(){window.scrollTo(0,d)},300)},delEventToLists:function(b){a("#jdDeliverList"+b).find(".choice-address").off(h)},setEventToLists:function(c){var d=a("#jdDeliverList"+c).find(".choice-address"),e=(a("#jdDeliverList"+c),a(".common-address")),f=c+1,k=function(){for(var a=0;a<d.length;a++)d.eq(a).removeClass("checked")};d.on(h,function(){if(i=2==c,1==c)for(var b=a("#jdDeliverList"+c).find(".common-address"),d=0;d<b.length;d++)b.eq(d).removeClass("checked");k(),a(this).addClass("checked");var e=a("#btn-select-region").attr("region-data");e=e.split(",")[c-1];var h=this.id;h!=e&&(g=!0),j.getRegionInfo(f,h)}),e.on(h,function(){var d=a(this).attr("data"),e=a(this).attr("common_id");k();for(var f=a("#jdDeliverList"+c).find(".common-address"),g=0;g<f.length;g++)f.eq(g).removeClass("checked");a(this).addClass("checked"),mitemAddrName=a(this).text();var h=b.actionURL+"&wareId="+b.wareID;d&&d.indexOf(",")>0&&d.split(",").length>3&&(h+=d.split(",")[3]&&"0"==d.split(",")[3]?"&action=getTowns&provinceId="+d.split(",")[0]+"&cityId="+d.split(",")[1]+"&countryId="+d.split(",")[2]+"&townId="+d.split(",")[3]:"&action=directStock&provinceId="+d.split(",")[0]+"&cityId="+d.split(",")[1]+"&countryId="+d.split(",")[2]+"&townId="+d.split(",")[3]),a.ajax({dataType:"json",url:h,cache:!1,beforeSend:function(){j.showLoading()},success:function(b){j.hideLoading(),i=!1,addDateToLocal(d),j.commonAdGetResult(),a("#btn-select-region").attr("region-data",d),a("#btn-select-region").attr("common-data",e),stockRender(b),infoRender(b),headerslider&&headerslider.HeightTimer(),j.closeMsk();var c=30,f=new Date;f.setTime(f.getTime()+24*c*60*60*1e3),document.cookie="commonAddress="+e+";expires="+f.toGMTString()+";path=/;domain=.m.jd.com"},error:function(){i=!1,j.hideLoading();for(var b=a("#jdDeliverList1").find(".common-address"),c=0;c<b.length;c++)b.eq(c).removeClass("checked");a(this).addClass("checked")}})})},setEventToBack:function(){f.on(h,function(){if(1==c)j.closeMsk();else{var a=c-1;j.switchTo(a)}})},switchTo:function(b){for(var d=1;d<5;d++)d==b?a("#jdDeliverList"+d).addClass("cur"):a("#jdDeliverList"+d).removeClass("cur");c=b},getResult:function(b){for(var d="",f="",g=1;g<c+1;g++)d+=a("#jdDeliverList"+g+" .checked").attr("id"),d+=4==g?"":",",f+=0==a("#jdDeliverList"+g+" .checked").length?"":a("#jdDeliverList"+g+" .checked").html();f+='<i class="icon icon-location"></i>',e.attr("region-data",d),e.find(".address").html(f);try{e.find(".address span").length>=3&&(mitemAddrName+=e.find(".address span")[0].innerHTML+"_"+e.find(".address span")[1].innerHTML+"_"+e.find(".address span")[2].innerHTML)}catch(a){}a("#btn-select-region").attr("common-data",""),addDateToLocal(d),stockRender(b),infoRender(b),headerslider&&headerslider.HeightTimer(),j.closeMsk()},commonAdGetResult:function(){var b="";b+=a("#jdDeliverList1").find(".checked").html(),b+='<i class="icon icon-location"></i>',e.find(".address").html(b)},getLiHTML:function(a,b,c,d,e){for(var f=0;f<c.length;f++)b+="<li",d&&d==c[f].id&&(g||(b+=' class="choice-address checked"')),g&&0==f&&(b+=' class="choice-address checked"'),b+=' class="choice-address" id="'+c[f].id+'" ',2==a?b+=' action="getCountys"':a>2&&(b+=' action="'+c[f].action+'"'),b+='><i class="tick"></i><a name="region'+c[f].id+'"></a><span>'+c[f].name+"</span></li>";e.append(b),j.setEventToLists(a),j.switchTo(a)}};return j.init()}}(Zepto),function(){function a(){this.timer=null,this.lastTime=1500,this.endTime=6e4}var b=function(b,c){return(new a).init(b,c)};a.prototype={init:function(a,b){this.oParent=document.getElementById(a),this.oDiv=document.getElementById(b),this.scale(),this.scale()&&Math.ceil(16/this.scale())>10&&(this.oDiv.style.fontSize=Math.ceil(16/this.scale())+"px"),this.duration()},scale:function(){var a=this.oParent,b=this.oDiv,c=b.offsetWidth,d=b.offsetHeight,e=document.documentElement.clientWidth-20;if(0!=c){var f=e/c,g=b.innerHTML;b.innerHTML="",b.style.WebkitTransformOrigin="0px 0px",b.style.transformOrigin="0px 0px",b.style.WebkitTransform="scale("+f+")",b.style.transform="scale("+f+")",a.style.width=c*f+"px",a.style.height=d*f+"px",a.style.margin="0px 10px 5px",b.innerHTML=g,a.style.overflow="hidden"}return f},SecScale:function(){var a=this.oParent,b=this.oDiv,c=b.offsetWidth,d=b.offsetHeight,e=document.documentElement.clientWidth-20;if(0!=c){var f=e/c;b.style.WebkitTransformOrigin="0px 0px",b.style.transformOrigin="0px 0px",b.style.WebkitTransform="scale("+f+")",b.style.transform="scale("+f+")",a.style.width=c*f+"px",a.style.height=d*f+"px",a.style.margin="0px 10px 5px",a.style.overflow="hidden"}},duration:function(){var a=this;a.timer=setInterval(function(){a.SecScale()},a.lastTime),setTimeout(function(){clearInterval(a.timer)},a.endTime)}},a.extend=function(a,b){for(name in b)void 0!==b[name]&&(a[name]=b[name])},a.extend(b,{ready:function(a){var b=/complete|loaded|interactive/;b.test(document.readyState)&&document.body?a():document.addEventListener("DOMContentLoaded",function(){a()},!1)}}),window.scale=b}(),LoadPage.prototype={init:function(a){var b={containId:"body",pointHeight:"600",currentP:1,baseUrl:"",reqPara:"",beforeFn:null,successFn:null,errorFn:null,reLoad:!0,isRepeatReq:!1,pageNo:"offset",isInit:!0,maxHeightFlag:0,checkParam:""};this.settings=$.extend(b,a),this.currentP=b.currentP,this.containId=b.containId,this.objContain=document.querySelector(this.containId),this.objContain.style.height=this.settings.pointHeight+"px",this.objContain.style.overflow="scroll",this.objContain.style.WebkitOverflowScrolling="touch",this.settings.isInit&&this.getData(this.currentP++),this.events()},orientationchangeCb:function(a){this.settings.pointHeight=a,this.objContain.style.height=this.settings.pointHeight+"px"},bindScrollEvts:function(){var a=this;a.objContain.onscroll=function(){var b=$("#loadMoreFlag").val();return a.settings.maxHeightFlag!=this.scrollHeight&&"false"!=b&&(parseInt(a.settings.pointHeight)+parseInt(this.scrollTop)+1>=this.scrollHeight&&!a.settings.isRepeatReq&&(a.settings.maxHeightFlag=this.scrollHeight,a.getData(a.currentP++)),!1)}},events:function(){this.bindScrollEvts(),this.goBack2TopSelf()},goBack2Top:function(){var a=document.querySelector("#indexToTop"),b="click",c=(window.navigator.userAgent,{init:function(){c.scrollEvt(),c.toTopEvt()},toTopEvt:function(){a.addEventListener(b,function(){scroll(0,0),a.style.display="none"},!1)},scrollEvt:function(){window.addEventListener("scroll",function(){var b=document.documentElement.clientHeight||document.body.clientHeight,c=document.documentElement.scrollTop||document.body.scrollTop;c>b?a.style.display="block":a.style.display="none"},!1)}});return c.init()},goBack2TopSelf:function(){var a=document.querySelector("#indexToTop"),b=$(".download-block-right")[0],c="click",d=(window.navigator.userAgent,this),e={init:function(){e.scrollEvt(),e.toTopEvt()},toTopEvt:function(){a.addEventListener(c,function(){d.objContain.scrollTop=0,a.style.display="none",b&&(b.style.bottom="57px")},!1)},scrollEvt:function(){d.objContain.addEventListener("scroll",function(){this.scrollTop>this.clientHeight?(b&&(b.style.bottom="99px"),a.style.display="block"):(a.style.display="none",b&&(b.style.bottom="57px"))},!1)}};return e.init()},getData:function(a,b){this.settings.isRepeatReq||(this.settings.isRepeatReq=!0),this.getSomeData(a)},EncodeUtf8:function(a){var b=escape(a),c=b.split("%"),d="";""!=c[0]&&(d=c[0]);for(var e=1;e<c.length;e++)d+="u"==c[e].substring(0,1)?Hex2Utf8(Str2Hex(c[e].substring(1,5))):"%"+c[e];return d},getSomeData:function(a){var b,c=this,d=c.settings.reqPara;d[c.settings.pageNo]=a,b=c.settings.baseUrl,$.ajax({url:b,type:c.settings.reqType,dataType:"json",data:d,beforeSend:c.settings.beforeFn,success:function(a){c.settings.successFn(a),c.settings.reLoad=!1,c.settings.isRepeatReq=!1},error:function(a,b){c.settings.errorFn(),c.settings.isRepeatReq=!1}})}};